(this["webpackJsonpreact-swapi-demo"]=this["webpackJsonpreact-swapi-demo"]||[]).push([[0],[,,,,,,,,,,function(e,t,c){e.exports={detail:"Details_detail__1Vz7Y"}},,,,function(e,t,c){e.exports={loader:"Loader_loader__2_zHp",loaderbox:"Loader_loaderbox__1bLge",loaderleft:"Loader_loaderleft__3T4Nd",loadercircle:"Loader_loadercircle__3rej7",leftAnim:"Loader_leftAnim__2u0Ux",loaderright:"Loader_loaderright__12BQo",rightAnim:"Loader_rightAnim__Naawf"}},function(e,t,c){e.exports={form:"Searchbar_form__36VcY",inputContainer:"Searchbar_inputContainer__23Lva",input:"Searchbar_input__21gH0",selectContainer:"Searchbar_selectContainer__2xCQp",select:"Searchbar_select__1FDzn"}},function(e,t,c){e.exports={info:"Info_info__SRroy",label:"Info_label__1aD83",icon:"Info_icon__2TzUB",value:"Info_value__IwHUr"}},,,,function(e,t,c){e.exports={main:"DetailPage_main__1Mdk5",buttonContainer:"DetailPage_buttonContainer__3qTJB",detail:"DetailPage_detail__2F12c"}},,,function(e,t,c){e.exports={buttonContainer:"RelationListIem_buttonContainer__3nlL3",button:"RelationListIem_button__1DgFb"}},function(e,t,c){e.exports={section:"Section_section__3uEif",sectionTitle:"Section_sectionTitle__-umLQ",sectionContent:"Section_sectionContent__3znS2"}},function(e,t,c){e.exports={main:"HomePage_main__ykO7e",searchbar:"HomePage_searchbar__uyFUV",results:"HomePage_results__1zI2S"}},,,,,,function(e,t,c){e.exports={results:"SearchResults_results__3t_yt",section:"SearchResults_section__3Jhxz"}},,,function(e,t,c){e.exports={button:"Button_button__3jbcX"}},function(e,t,c){e.exports={list:"Carousel_list__3vaey"}},function(e,t,c){e.exports={card:"Card_card__r-372"}},,,function(e,t,c){e.exports={listItem:"RessourceList_listItem__wzQMq"}},,,,,,,,function(e,t,c){},,,,,,,function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(1),r=c.n(a),s=c(21),i=c.n(s),l=(c(47),c(12)),o=c(5),j=c(3),b=c.n(j),u=c(7),O=c(4),d=c(13),h=c(8),p=c(22),x=c(34),v=c.n(x);function f(e){var t=e.children,c=e.className,a=Object(p.a)(e,["children","className"]);return Object(n.jsx)("button",Object(h.a)(Object(h.a)({className:[c,v.a.button].join(" ")},a),{},{children:t}))}var m=c(14),g=c.n(m);function _(e){return Object(n.jsxs)("div",Object(h.a)(Object(h.a)({className:g.a.loader},e),{},{children:[Object(n.jsx)("aside",{className:[g.a.loaderbox,g.a.loaderleft].join(" "),children:Object(n.jsx)("span",{className:g.a.loadercircle})}),Object(n.jsx)("aside",{className:[g.a.loaderbox,g.a.loaderright].join(" "),children:Object(n.jsx)("span",{className:g.a.loadercircle})})]}))}function S(){return Object(n.jsx)("div",{style:{display:"flex",alignItems:"center",flex:1},children:Object(n.jsx)(_,{})})}function y(e){var t=e.icon,c=e.className;return Object(n.jsx)("span",{className:"material-icons ".concat(c),children:t})}function E(e){var t=e.message,c=void 0===t?"Sorry, an error occured":t,a=e.size,r=void 0===a?1:a;return Object(n.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flex:1,color:"red",fontSize:"".concat(r,"em")},children:[Object(n.jsx)(y,{icon:"warning"}),Object(n.jsx)("span",{children:c})]})}var C=c(2),L=c(16),P=c.n(L);function N(e){var t=e.icon,c=e.label,a=e.value;return Object(n.jsxs)("div",{className:[P.a.vCentered,P.a.info].join(" "),children:[Object(n.jsx)("span",{className:P.a.labelContainer,children:Object(n.jsxs)("span",{className:P.a.label,children:[Object(n.jsx)(y,{icon:t,className:P.a.icon}),Object(n.jsxs)("span",{children:[c," : "]})]})}),Object(n.jsx)("span",{className:P.a.value,children:Object(n.jsx)("span",{children:a})})]})}function w(e){var t=e.film;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(N,{icon:"movie",label:"Title",value:t.title}),Object(n.jsx)(N,{icon:"format_list_numbered",label:"Episode",value:"".concat(t.episode_id)}),Object(n.jsx)(N,{icon:"today",label:"Release Date",value:t.release_date})]})}function I(e){var t=e.film;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(w,{film:t}),Object(n.jsx)(N,{icon:"face",label:"Director",value:t.director}),Object(n.jsx)(N,{icon:"face",label:"Producer",value:t.producer}),Object(n.jsx)(N,{icon:"article",label:"Opening Crawl",value:t.opening_crawl})]})}var F=c(35),M=c.n(F);function T(e){var t=e.itemsPerRow,c=void 0===t?3:t,r=e.items,s=e.render,i=Object(a.useState)(0),l=Object(O.a)(i,2),o=l[0],j=l[1],b=Object(a.useState)([]),u=Object(O.a)(b,2),d=u[0],h=u[1];return Object(a.useEffect)((function(){h(r.slice(o,o+c))}),[o]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(f,{onClick:function(e){return j(o-c)},disabled:0===o,children:Object(n.jsx)(y,{icon:"chevron_left"})}),Object(n.jsx)("div",{className:M.a.list,children:s(d)}),Object(n.jsx)(f,{onClick:function(e){return j(o+c)},disabled:o+c>=r.length,children:Object(n.jsx)(y,{icon:"chevron_right"})})]})}function k(e){var t=e.children,c=e.mount,n=void 0===c?document.getElementById("portal-root"):c,r=document.createElement("div");return Object(a.useEffect)((function(){if(n)return n.appendChild(r),function(){n.removeChild(r)}}),[r,n]),Object(s.createPortal)(t,r)}var H=c(36),R=c.n(H);function A(e){var t=e.children,c=e.className,a=Object(p.a)(e,["children","className"]);return Object(n.jsx)("div",Object(h.a)(Object(h.a)({className:[c,R.a.card].join(" ")},a),{},{children:t}))}var V,D,U=c(23),z=c.n(U);function B(e){var t=e.itemStyle,c=e.relation,a=e.search,r=e.type,s=e.hideTooltip,i=e.renderRelation,o=e.showTooltip;return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(A,{style:t,children:[i(c),Object(n.jsxs)("div",{className:z.a.buttonContainer,children:[Object(n.jsx)(f,{className:z.a.button,onMouseOver:function(e){var t=e.target;return o(t,c)},onMouseOut:s,children:"Show More"}),Object(n.jsx)(l.b,{to:{pathname:"/".concat(r,"/").concat(c.id),search:a},children:Object(n.jsx)(f,{className:z.a.button,children:"Go to full detail"})})]})]})})}function G(e){var t=e.children,c=e.coords;return Object(n.jsx)(d.b.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:[-10,0]},exit:{y:-750},style:Object(h.a)({position:"absolute"},c),children:Object(n.jsx)(A,{children:t})})}!function(e){e.FILMS="films",e.PEOPLE="people",e.PLANETS="planets",e.SPECIES="species",e.STARSHIPS="starships",e.VEHICLES="vehicles"}(D||(D={}));var J=(V={},Object(C.a)(V,D.FILMS,3),Object(C.a)(V,D.PEOPLE,3),Object(C.a)(V,D.PLANETS,2),Object(C.a)(V,D.SPECIES,3),Object(C.a)(V,D.STARSHIPS,2),Object(C.a)(V,D.VEHICLES,2),V);function Q(e){var t=e.type,c=e.relations,r=Object(a.useState)({}),s=Object(O.a)(r,2),i=s[0],l=s[1],j=xe[t],b=Object(o.h)().search,u=J[t],h=Object(a.useState)(),p=Object(O.a)(h,2),x=p[0],v=p[1],f=Object(a.useState)(!1),m=Object(O.a)(f,2),g=m[0],_=m[1],S=Object(a.useState)(),y=Object(O.a)(S,2),E=y[0],C=y[1],L=Object(a.useRef)(),P=function(e,t){_(!0),v(t);var c=e.getBoundingClientRect();C({left:c.x,bottom:window.innerHeight-(c.y+window.scrollY-15)})};return Object(a.useEffect)((function(){l(function(){var e=(100-1*u*2)/u;return{margin:"".concat(1,"%"),width:"".concat(e,"%")}}())}),[]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{style:{display:"flex"},children:Object(n.jsx)(T,{items:c,itemsPerRow:u,render:function(e){return Object(n.jsx)(n.Fragment,{children:e.map((function(e,c){return Object(n.jsx)(B,{itemStyle:i,relation:e,search:b,hideTooltip:function(){return _(!1)},showTooltip:P,renderRelation:j,type:t},c)}))})}})}),Object(n.jsx)("div",{ref:L,id:"portal-root"}),Object(n.jsx)(d.a,{children:g&&Object(n.jsx)(k,{mount:L.current,children:Object(n.jsx)(G,{coords:E,children:j(x,!0)})})})]})}var W=c(24),Y=c.n(W);function q(e){var t=e.title,c=e.children,a=e.className;return Object(n.jsxs)("div",{className:[Y.a.section,a].join(" "),children:[Object(n.jsx)("h4",{className:Y.a.sectionTitle,children:t}),Object(n.jsx)("div",{className:Y.a.sectionContent,children:c})]})}var K,X,Z=c(10),$=c.n(Z);function ee(e){var t=e.film;return Object(n.jsxs)("div",{className:$.a.detail,children:[Object(n.jsx)(q,{title:"FILM",children:Object(n.jsx)(I,{film:t})}),!!t.characters.length&&Object(n.jsx)(q,{title:"CHARACTERS (".concat(t.characters.length,")"),children:Object(n.jsx)(Q,{type:D.PEOPLE,relations:t.characters})}),!!t.planets.length&&Object(n.jsx)(q,{title:"PLANETS (".concat(t.planets.length,")"),children:Object(n.jsx)(Q,{type:D.PLANETS,relations:t.planets})}),!!t.starships.length&&Object(n.jsx)(q,{title:"STARSHIPS (".concat(t.starships.length,")"),children:Object(n.jsx)(Q,{type:D.STARSHIPS,relations:t.starships})}),!!t.vehicles.length&&Object(n.jsx)(q,{title:"VEHICLES (".concat(t.vehicles.length,")"),children:Object(n.jsx)(Q,{type:D.VEHICLES,relations:t.vehicles})}),!!t.species.length&&Object(n.jsx)(q,{title:"SPECIES (".concat(t.species.length,")"),children:Object(n.jsx)(Q,{type:D.SPECIES,relations:t.species})})]})}function te(e){var t=e.person;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(N,{icon:"face",label:"Name",value:t.name}),Object(n.jsx)(N,{icon:"wc",label:"Gender",value:t.gender}),Object(n.jsx)(N,{icon:"event",label:"Birth Year",value:t.birth_year})]})}function ce(e){var t=e.person;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(te,{person:t}),Object(n.jsx)(N,{icon:"palette",label:"Skin Color",value:t.skin_color}),Object(n.jsx)(N,{icon:"palette",label:"Eye Color",value:t.eye_color}),Object(n.jsx)(N,{icon:"palette",label:"Hair Color",value:t.hair_color}),Object(n.jsx)(N,{icon:"adjust",label:"Mass",value:t.mass}),Object(n.jsx)(N,{icon:"height",label:"Height",value:t.height})]})}function ne(e){var t=e.planet;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(N,{icon:"public",label:"Name",value:t.name}),Object(n.jsx)(N,{icon:"groups",label:"Population",value:t.population}),Object(n.jsx)(N,{icon:"wb_sunny",label:"Climate",value:t.climate}),Object(n.jsx)(N,{icon:"terrain",label:"Terrain",value:t.terrain})]})}function ae(e){var t=e.planet;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(ne,{planet:t})," ",Object(n.jsx)(N,{icon:"not_interested",label:"Diameter",value:t.diameter}),Object(n.jsx)(N,{icon:"360",label:"Rotation Period",value:t.rotation_period}),Object(n.jsx)(N,{icon:"settings_backup_restore",label:"Orbital Period",value:t.orbital_period}),Object(n.jsx)(N,{icon:"arrow_downward",label:"Gravity",value:t.gravity}),Object(n.jsx)(N,{icon:"waves",label:"Surface Water",value:t.surface_water})]})}function re(e){var t=e.species;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(N,{icon:"people",label:"Name",value:t.name}),Object(n.jsx)(N,{icon:"category",label:"Classification",value:t.classification}),Object(n.jsx)(N,{icon:"psychology",label:"Designation",value:t.designation})]})}function se(e){var t=e.species;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(re,{species:t}),Object(n.jsx)(N,{icon:"height",label:"Average Height",value:t.average_height}),Object(n.jsx)(N,{icon:"elderly",label:"Average Lifespan",value:t.average_lifespan}),Object(n.jsx)(N,{icon:"palette",label:"Eye Colors",value:t.eye_colors}),Object(n.jsx)(N,{icon:"palette",label:"Hair Colors",value:t.hair_colors}),Object(n.jsx)(N,{icon:"palette",label:"Skin Colors",value:t.skin_colors}),Object(n.jsx)(N,{icon:"record_voice_over",label:"Language",value:t.language})]})}function ie(e){var t=e.starship;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(N,{icon:"airplanemode_active",label:"Name",value:t.name}),Object(n.jsx)(N,{icon:"scatter_plot",label:"Model",value:t.model}),Object(n.jsx)(N,{icon:"category",label:"Starship Class",value:t.starship_class}),Object(n.jsx)(N,{icon:"corporate_fare",label:"Manufacturer",value:t.manufacturer})]})}function le(e){var t=e.starship;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(ie,{starship:t}),Object(n.jsx)(N,{icon:"credit_card",label:"Cost In Credits",value:t.cost_in_credits}),Object(n.jsx)(N,{icon:"straighten",label:"Length",value:t.length}),Object(n.jsx)(N,{icon:"groups",label:"Crew",value:t.crew}),Object(n.jsx)(N,{icon:"reduce_capacity",label:"Passengers",value:t.passengers}),Object(n.jsx)(N,{icon:"speed",label:"Max Atmosphering Speed",value:t.max_atmosphering_speed}),Object(n.jsx)(N,{icon:"star",label:"Hyperdrive Rating",value:t.hyperdrive_rating}),Object(n.jsx)(N,{icon:"flash_on",label:"MGLT",value:t.MGLT}),Object(n.jsx)(N,{icon:"luggage",label:"Cargo Capacity",value:t.cargo_capacity})]})}function oe(e){var t=e.vehicle;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(N,{icon:"directions_car",label:"Name",value:t.name}),Object(n.jsx)(N,{icon:"scatter_plot",label:"Model",value:t.model}),Object(n.jsx)(N,{icon:"category",label:"Vehicle Class",value:t.vehicle_class}),Object(n.jsx)(N,{icon:"corporate_fare",label:"Manufacturer",value:t.manufacturer})]})}function je(e){var t=e.vehicle;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(oe,{vehicle:t}),Object(n.jsx)(N,{icon:"straighten",label:"Length",value:t.length}),Object(n.jsx)(N,{icon:"credit_card",label:"Cost In Credits",value:t.cost_in_credits}),Object(n.jsx)(N,{icon:"groups",label:"Crew",value:t.crew}),Object(n.jsx)(N,{icon:"reduce_capacity",label:"Passengers",value:t.passengers}),Object(n.jsx)(N,{icon:"speed",label:"Max Atmosphering Speed",value:t.max_atmosphering_speed}),Object(n.jsx)(N,{icon:"luggage",label:"Capacity",value:t.cargo_capacity}),Object(n.jsx)(N,{icon:"opacity",label:"Consumables",value:t.consumables})]})}function be(e){var t=e.person;return Object(n.jsxs)("div",{className:$.a.detail,children:[Object(n.jsx)(q,{title:"PERSON",children:Object(n.jsx)(ce,{person:t})}),!!t.films.length&&Object(n.jsx)(q,{title:"FILMS (".concat(t.films.length,")"),children:Object(n.jsx)(Q,{type:D.FILMS,relations:t.films})}),!!t.homeworld&&Object(n.jsx)(q,{title:"HOMEWORLD",children:Object(n.jsx)(ne,{planet:t.homeworld})}),!!t.species.length&&Object(n.jsx)(q,{title:"SPECIES (".concat(t.species.length,")"),children:Object(n.jsx)(Q,{type:D.SPECIES,relations:t.species})}),!!t.starships.length&&Object(n.jsx)(q,{title:"STARSHIPS (".concat(t.starships.length,")"),children:Object(n.jsx)(Q,{type:D.STARSHIPS,relations:t.starships})}),!!t.vehicles.length&&Object(n.jsx)(q,{title:"VEHICLES (".concat(t.vehicles.length,")"),children:Object(n.jsx)(Q,{type:D.VEHICLES,relations:t.vehicles})})]})}function ue(e){var t=e.planet;return Object(n.jsxs)("div",{className:$.a.detail,children:[Object(n.jsx)(q,{title:"PLANET",children:Object(n.jsx)(ae,{planet:t})}),!!t.residents.length&&Object(n.jsx)(q,{title:"RESIDENTS (".concat(t.residents.length,")"),children:Object(n.jsx)(Q,{type:D.PEOPLE,relations:t.residents})}),!!t.films.length&&Object(n.jsx)(q,{title:"FILMS (".concat(t.films.length,")"),children:Object(n.jsx)(Q,{type:D.FILMS,relations:t.films})})]})}function Oe(e){var t=e.species;return Object(n.jsxs)("div",{className:$.a.detail,children:[Object(n.jsx)(q,{title:"SPECIES",children:Object(n.jsx)(se,{species:t})}),!!t.homeworld&&Object(n.jsx)(q,{title:"HOMEWORLD",children:Object(n.jsx)(ne,{planet:t.homeworld})}),!!t.people.length&&Object(n.jsx)(q,{title:"PEOPLE (".concat(t.people.length,")"),children:Object(n.jsx)(Q,{type:D.PEOPLE,relations:t.people})}),!!t.films.length&&Object(n.jsx)(q,{title:"FILMS (".concat(t.films.length,")"),children:Object(n.jsx)(Q,{type:D.FILMS,relations:t.films})})]})}function de(e){var t=e.starship;return Object(n.jsxs)("div",{className:$.a.detail,children:[Object(n.jsx)(q,{title:"STARSHIP",children:Object(n.jsx)(le,{starship:t})}),!!t.pilots.length&&Object(n.jsx)(q,{title:"PILOTS (".concat(t.pilots.length,")"),children:Object(n.jsx)(Q,{type:D.PEOPLE,relations:t.pilots})}),!!t.films.length&&Object(n.jsx)(q,{title:"FILMS (".concat(t.films.length,")"),children:Object(n.jsx)(Q,{type:D.FILMS,relations:t.films})})]})}function he(e){var t=e.vehicle;return Object(n.jsxs)("div",{className:$.a.detail,children:[Object(n.jsx)(q,{title:"VEHICLE",children:Object(n.jsx)(je,{vehicle:t})}),!!t.pilots.length&&Object(n.jsx)(q,{title:"PILOTS (".concat(t.pilots.length,")"),children:Object(n.jsx)(Q,{type:D.PEOPLE,relations:t.pilots})}),!!t.films.length&&Object(n.jsx)(q,{title:"FILMS (".concat(t.films.length,")"),children:Object(n.jsx)(Q,{type:D.FILMS,relations:t.films})})]})}var pe=(K={},Object(C.a)(K,D.FILMS,(function(e){return Object(n.jsx)(ee,{film:e})})),Object(C.a)(K,D.PEOPLE,(function(e){return Object(n.jsx)(be,{person:e})})),Object(C.a)(K,D.PLANETS,(function(e){return Object(n.jsx)(ue,{planet:e})})),Object(C.a)(K,D.SPECIES,(function(e){return Object(n.jsx)(Oe,{species:e})})),Object(C.a)(K,D.STARSHIPS,(function(e){return Object(n.jsx)(de,{starship:e})})),Object(C.a)(K,D.VEHICLES,(function(e){return Object(n.jsx)(he,{vehicle:e})})),K),xe=(X={},Object(C.a)(X,D.FILMS,(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?Object(n.jsx)(I,{film:e}):Object(n.jsx)(w,{film:e})})),Object(C.a)(X,D.PEOPLE,(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?Object(n.jsx)(ce,{person:e}):Object(n.jsx)(te,{person:e})})),Object(C.a)(X,D.PLANETS,(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?Object(n.jsx)(ae,{planet:e}):Object(n.jsx)(ne,{planet:e})})),Object(C.a)(X,D.SPECIES,(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?Object(n.jsx)(se,{species:e}):Object(n.jsx)(re,{species:e})})),Object(C.a)(X,D.STARSHIPS,(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?Object(n.jsx)(le,{starship:e}):Object(n.jsx)(ie,{starship:e})})),Object(C.a)(X,D.VEHICLES,(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?Object(n.jsx)(je,{vehicle:e}):Object(n.jsx)(oe,{vehicle:e})})),X),ve="https://hapi-swapi.herokuapp.com";function fe(e,t){return me.apply(this,arguments)}function me(){return(me=Object(u.a)(b.a.mark((function e(t,c){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new URLSearchParams(t).toString(),e.t0=Se,e.next=4,fetch("".concat(ve,"?").concat(n),{signal:c});case 4:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ge(e,t){return _e.apply(this,arguments)}function _e(){return(_e=Object(u.a)(b.a.mark((function e(t,c){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Se,e.next=3,fetch("".concat(ve,"/").concat(t,"/").concat(c));case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Se(e){return ye.apply(this,arguments)}function ye(){return(ye=Object(u.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t.status,e.next=3,t.json();case 3:return e.t1=e.sent,e.abrupt("return",{status:e.t0,body:e.t1});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ee=c(20),Ce=c.n(Ee);function Le(){var e=Object(o.i)(),t=e.type,c=e.id,r=Object(o.h)().search,s=Object(o.g)(),i=Object(a.useState)(!0),j=Object(O.a)(i,2),h=j[0],p=j[1],x=Object(a.useState)(),v=Object(O.a)(x,2),m=v[0],g=v[1],_=Object(a.useState)(!1),C=Object(O.a)(_,2),L=C[0],P=C[1];Object(a.useEffect)((function(){(function(){var e=Object(u.a)(b.a.mark((function e(){var n,a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ge(t,+c);case 3:n=e.sent,a=n.body,r=n.status,document.title="".concat(t.toUpperCase()," - ").concat((null===a||void 0===a?void 0:a.name)||(null===a||void 0===a?void 0:a.title)),g(a),P(200!==r),p(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),P(!0),p(!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}})()()}),[t,c]),Object(a.useEffect)((function(){var e=s.listen((function(){return p(!0)}));return function(){return e()}}),[]);return Object(n.jsxs)("div",{className:Ce.a.main,children:[Object(n.jsx)("div",{className:Ce.a.buttonContainer,children:Object(n.jsx)(l.b,{to:{pathname:"/",search:r},children:Object(n.jsxs)(f,{className:Ce.a.button,children:[Object(n.jsx)(y,{icon:"keyboard_backspace"}),Object(n.jsx)("span",{children:"Back to search"})]})})}),Object(n.jsx)("div",{className:Ce.a.detail,children:h?Object(n.jsx)(S,{}):L?Object(n.jsx)(E,{}):m?Object(n.jsx)(d.b.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:pe[t](m)}):void 0})]})}var Pe=c(57),Ne=c(58),we=c(6),Ie=c(38),Fe=c.n(Ie),Me=c(39),Te=c.n(Me);function ke(e){var t=e.type,c=e.results,a=e.onLoadMore,r=Object(o.h)().search;return Object(n.jsx)(Fe.a,{loadMore:function(){return a(t,c.next)},hasMore:!!c.next,loader:Object(n.jsx)(_,{style:{margin:"1em auto"}},t),useWindow:!1,children:c.results.map((function(e,c){return Object(n.jsx)("div",{className:Te.a.listItem,children:Object(n.jsx)(l.b,{to:{pathname:"/".concat(t,"/").concat(e.id),search:r},children:Object(n.jsx)("div",{children:e.name})})},c)}))})}var He=c(31),Re=c.n(He);function Ae(e){var t=e.type,c=e.keyword,r=e.className,s=Object(a.useState)(!0),i=Object(O.a)(s,2),l=i[0],j=i[1],p=Object(a.useState)(!1),x=Object(O.a)(p,2),v=x[0],f=x[1],m=Object(a.useState)({}),g=Object(O.a)(m,2),_=g[0],y=g[1],L=Object(a.useState)(),P=Object(O.a)(L,2),N=P[0],w=P[1],I=Object(o.g)(),F=Object(o.h)(),M=function(){var e=Object(u.a)(b.a.mark((function e(t,n){var a,r,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fe({type:t,keyword:c,page:"".concat(n)});case 3:a=e.sent,r=a.body,200===a.status&&(s=r[t],y((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(C.a)({},t,Object(h.a)(Object(h.a)({},e[t]),{},{next:s.next,results:[].concat(Object(we.a)(e[t].results),Object(we.a)(s.results))})))}))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("Load next page failed",t,n);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,c){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){var e=function(){var e=Object(u.a)(b.a.mark((function e(){var n,a,r,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),N&&N.abort(),n=new AbortController,w(n),e.prev=4,e.next=7,fe({type:t,keyword:c},n.signal);case 7:a=e.sent,r=a.body,s=a.status,w(null),y(r),f(200!==s),j(!1),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(4),w(null),"AbortError"!==e.t0.name&&(f(!0),j(!1));case 20:case"end":return e.stop()}}),e,null,[[4,16]])})));return function(){return e.apply(this,arguments)}}();I.push({pathname:F.pathname,search:new URLSearchParams({type:t||"",keyword:c||""}).toString()}),e()}),[c,t]);return Object(n.jsx)("div",{className:r,children:l?Object(n.jsx)(S,{}):v?Object(n.jsx)(E,{}):Object(n.jsx)(d.b.div,{initial:{y:100,opacity:0},animate:{y:[10,0],opacity:1},className:Re.a.results,children:Object.keys(_).map((function(e){return _[e]&&Object(n.jsx)(q,{title:"".concat(e.toUpperCase()," (").concat(_[e].count,")"),className:Re.a.section,children:Object(n.jsx)(ke,{type:e,results:_[e],onLoadMore:M})},e)}))})})}var Ve=c(41),De=c(15),Ue=c.n(De);function ze(e){var t=e.initialValue,c=e.onChange,a=e.className,r=[""].concat(Object.values(D)),s=Object(Ve.a)({defaultValues:t}),i=s.register,l=s.handleSubmit,o=s.getValues;return Object(n.jsxs)("form",{className:[a,Ue.a.form].join(" "),onSubmit:l(c),children:[Object(n.jsx)("div",{className:[Ue.a.commonContainer,Ue.a.inputContainer].join(""),children:Object(n.jsx)("input",{className:Ue.a.input,type:"text",name:"keyword",placeholder:"Enter your search here",ref:i,onKeyUp:function(e){return c(o())}})}),Object(n.jsx)("div",{className:[Ue.a.commonContainer,Ue.a.selectContainer].join(" "),children:Object(n.jsx)("select",{className:Ue.a.select,name:"type",ref:i,onChange:function(e){return c(o())},children:r.map((function(e){return Object(n.jsx)("option",{value:e,children:e.toUpperCase()},e)}))})})]})}var Be=c(25),Ge=c.n(Be);function Je(){Object(Pe.a)("Empire Search");var e=function(e){var t=Object(o.h)(),c=new URLSearchParams(t.search);return e.reduce((function(e,t){return e[t]=c.get(t)||"",e}),{})}(["type","keyword"]),t=Object(a.useState)(function(e){return Object.values(D).includes(e)?e:""}(e.type)),c=Object(O.a)(t,2),r=c[0],s=c[1],i=Object(a.useState)(e.keyword),l=Object(O.a)(i,2),j=l[0],b=l[1],u=Object(Ne.a)(j,{wait:500}),d=Object(a.useState)(!0),h=Object(O.a)(d,2),p=h[0],x=h[1];return Object(n.jsxs)("div",{className:Ge.a.main,children:[Object(n.jsx)(ze,{className:Ge.a.searchbar,initialValue:{keyword:j,type:r},onChange:function(e){var t=e.type,c=e.keyword;b(c),s(t),x(!0)}}),p&&Object(n.jsx)(Ae,{type:r,keyword:u,className:Ge.a.results})]})}var Qe="/react-swapi-demo";function We(){return Object(n.jsx)(l.a,{basename:Qe,children:Object(n.jsxs)(o.d,{children:[Object(n.jsx)(o.b,{path:"/",exact:!0,children:Object(n.jsx)(Je,{})}),Object(n.jsx)(o.b,{path:"/:type/:id",render:function(e){var t=e.match.params.type;return Object.values(D).includes(t)?Object(n.jsx)(Le,{}):Object(n.jsx)(o.a,{to:"/"})}}),Object(n.jsx)(o.b,{path:"*",children:Object(n.jsx)(Je,{})})]})})}console.log(Qe);var Ye=function(){return Object(n.jsx)(We,{})},qe=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,59)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))};i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(Ye,{})}),document.getElementById("root")),qe()}],[[54,1,2]]]);
//# sourceMappingURL=main.6c3fbaec.chunk.js.map