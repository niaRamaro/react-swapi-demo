{"version":3,"sources":["components/details/Details.module.scss","components/shared/Loader.module.scss","components/Searchbar.module.scss","components/shared/Info.module.scss","pages/DetailPage.module.scss","components/details/RelationListIem.module.scss","components/shared/Section.module.scss","pages/HomePage.module.scss","components/SearchResults.module.scss","components/shared/Button.module.scss","components/shared/Carousel.module.scss","components/shared/Card.module.scss","components/RessourceList.module.scss","components/shared/Button.tsx","components/shared/Loader.tsx","components/shared/CenteredLoader.tsx","components/shared/MaterialIcon.tsx","components/shared/Error.tsx","components/shared/Info.tsx","components/details/infos/ShortFilmInfos.tsx","components/details/infos/FullFilmInfos.tsx","components/shared/Carousel.tsx","components/shared/Portal.tsx","components/shared/Card.tsx","constants/search.ts","components/details/RelationListIem.tsx","components/shared/Tooltip.tsx","components/details/RelationsList.tsx","components/shared/Section.tsx","components/details/FilmDetail.tsx","components/details/infos/ShortPersonInfos.tsx","components/details/infos/FullPersonInfos.tsx","components/details/infos/ShortPlanetInfos.tsx","components/details/infos/FullPlanetInfos.tsx","components/details/infos/ShortSpeciesInfos.tsx","components/details/infos/FullSpeciesInfos.tsx","components/details/infos/ShortStarshipInfos.tsx","components/details/infos/FullStarshipInfos.tsx","components/details/infos/ShortVehicleInfos.tsx","components/details/infos/FullVehicleInfos.tsx","components/details/PersonDetail.tsx","components/details/PlanetDetail.tsx","components/details/SpeciesDetail.tsx","components/details/StarshipDetail.tsx","components/details/VehicleDetail.tsx","constants/config.tsx","service/api.ts","pages/DetailPage.tsx","components/RessourceList.tsx","components/SearchResults.tsx","components/Searchbar.tsx","pages/HomePage.tsx","hooks/useQueryParams.ts","Routes.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["module","exports","Button","children","className","rest","styles","button","join","Loader","props","loader","loaderbox","loaderleft","loadercircle","loaderright","CenteredLoader","style","display","alignItems","flex","MaterialIcon","icon","Error","message","size","justifyContent","color","fontSize","Info","label","value","vCentered","info","labelContainer","ShortFilmInfos","film","title","episode_id","release_date","FullFilmInfos","director","producer","opening_crawl","Carousel","itemsPerRow","items","render","useState","start","setStart","displayedItems","setDisplayedItems","useEffect","slice","onClick","_","disabled","list","length","Portal","mount","document","getElementById","el","createElement","appendChild","removeChild","createPortal","Card","card","RESSOURCES","RelationListItem","itemStyle","relation","search","type","hideTooltip","renderRelation","showTooltip","buttonContainer","onMouseOver","target","onMouseOut","to","pathname","id","Tooltip","coords","div","initial","opacity","y","animate","exit","position","RELATION_ITEM_PER_ROW","FILMS","PEOPLE","PLANETS","SPECIES","STARSHIPS","VEHICLES","RelationsList","relations","setItemStyle","RESSOURCE_COMPONENT_CONFIGS","useLocation","selectedRelation","setSelectedRelation","isTooltipOpen","setIsTooltipOpen","tooltipCoordinates","setTooltipCoordinates","portalMount","useRef","hoveredButton","rect","getBoundingClientRect","left","x","bottom","window","innerHeight","scrollY","width","margin","getItemStyle","displayedRelations","map","index","ref","current","Section","section","sectionTitle","sectionContent","FilmDetail","detail","characters","planets","starships","vehicles","species","ShortPersonInfos","person","name","gender","birth_year","FullPersonInfos","skin_color","eye_color","hair_color","mass","height","ShortPlanetInfos","planet","population","climate","terrain","FullPlanetInfos","diameter","rotation_period","orbital_period","gravity","surface_water","ShortSpeciesInfos","classification","designation","FullSpeciesInfos","average_height","average_lifespan","eye_colors","hair_colors","skin_colors","language","ShortStarshipInfos","starship","model","starship_class","manufacturer","FullStarshipInfos","cost_in_credits","crew","passengers","max_atmosphering_speed","hyperdrive_rating","MGLT","cargo_capacity","ShortVehicleInfos","vehicle","vehicle_class","FullVehicleInfos","consumables","PersonDetail","films","homeworld","PlanetDetail","residents","SpeciesDetail","people","StarshipDetail","pilots","VehicleDetail","RESSOURCE_DETAIL_CONFIGS","showFull","BASE_URL","process","searchAPI","params","signal","a","queryString","URLSearchParams","toString","formatFetchResponse","fetch","getDetailAPI","response","status","json","body","DetailPage","useParams","history","useHistory","loading","setLoading","data","setData","error","setError","toUpperCase","getDetail","unlisten","listen","main","transition","duration","RessourceList","results","onLoadMore","loadMore","next","hasMore","useWindow","result","listItem","SearchResults","keyword","isLoading","setIsLoading","hasError","setHasError","setResults","pendingRequest","setPendingRequest","location","loadNextPage","page","ressourceResults","prevResults","console","log","fetchResults","abort","controller","AbortController","push","Object","keys","ressourceType","count","Searchbar","initialValue","onChange","types","concat","values","useForm","defaultValues","register","handleSubmit","getValues","form","onSubmit","commonContainer","inputContainer","input","placeholder","onKeyUp","selectContainer","select","Homepage","useTitle","queryParams","reduce","paramsMap","key","get","useQueryParams","includes","getType","setType","setKeyword","throttledKeyword","useThrottle","wait","showResults","setShowResults","searchbar","Routes","basename","path","exact","match","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.39ea5f07.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"detail\":\"Details_detail__1Vz7Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__2_zHp\",\"loaderbox\":\"Loader_loaderbox__1bLge\",\"loaderleft\":\"Loader_loaderleft__3T4Nd\",\"loadercircle\":\"Loader_loadercircle__3rej7\",\"leftAnim\":\"Loader_leftAnim__2u0Ux\",\"loaderright\":\"Loader_loaderright__12BQo\",\"rightAnim\":\"Loader_rightAnim__Naawf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Searchbar_form__36VcY\",\"inputContainer\":\"Searchbar_inputContainer__23Lva\",\"input\":\"Searchbar_input__21gH0\",\"selectContainer\":\"Searchbar_selectContainer__2xCQp\",\"select\":\"Searchbar_select__1FDzn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"info\":\"Info_info__SRroy\",\"label\":\"Info_label__1aD83\",\"icon\":\"Info_icon__2TzUB\",\"value\":\"Info_value__IwHUr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"DetailPage_main__1Mdk5\",\"buttonContainer\":\"DetailPage_buttonContainer__3qTJB\",\"detail\":\"DetailPage_detail__2F12c\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttonContainer\":\"RelationListIem_buttonContainer__3nlL3\",\"button\":\"RelationListIem_button__1DgFb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"Section_section__3uEif\",\"sectionTitle\":\"Section_sectionTitle__-umLQ\",\"sectionContent\":\"Section_sectionContent__3znS2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"HomePage_main__ykO7e\",\"searchbar\":\"HomePage_searchbar__uyFUV\",\"results\":\"HomePage_results__1zI2S\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"results\":\"SearchResults_results__3t_yt\",\"section\":\"SearchResults_section__3Jhxz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3jbcX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"Carousel_list__3vaey\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__r-372\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"listItem\":\"RessourceList_listItem__wzQMq\"};","import React from 'react'\r\n\r\nimport styles from './Button.module.scss'\r\n\r\ntype Props = React.DetailedHTMLProps<\r\n    React.ButtonHTMLAttributes<HTMLButtonElement>,\r\n    HTMLButtonElement\r\n>\r\n\r\nexport default function Button({ children, className, ...rest }: Props) {\r\n    return (\r\n        <button className={[className, styles.button].join(' ')} {...rest}>\r\n            {children}\r\n        </button>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport styles from './Loader.module.scss'\r\n\r\nexport default function Loader(\r\n    props: React.DetailedHTMLProps<\r\n        React.HTMLAttributes<HTMLDivElement>,\r\n        HTMLDivElement\r\n    >\r\n) {\r\n    return (\r\n        <div className={styles.loader} {...props}>\r\n            <aside className={[styles.loaderbox, styles.loaderleft].join(' ')}>\r\n                <span className={styles.loadercircle}></span>\r\n            </aside>\r\n            <aside className={[styles.loaderbox, styles.loaderright].join(' ')}>\r\n                <span className={styles.loadercircle}></span>\r\n            </aside>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport Loader from './Loader'\r\n\r\nexport default function CenteredLoader() {\r\n    return (\r\n        <div\r\n            style={{\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                flex: 1\r\n            }}\r\n        >\r\n            <Loader />\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\ntype Props = React.DetailedHTMLProps<\r\n    React.HTMLAttributes<HTMLSpanElement>,\r\n    HTMLSpanElement\r\n> & { icon: string }\r\n\r\nexport default function MaterialIcon({ icon, className }: Props) {\r\n    return <span className={`material-icons ${className}`}>{icon}</span>\r\n}\r\n","import React from 'react'\r\n\r\nimport MaterialIcon from './MaterialIcon'\r\n\r\ntype Props = {\r\n    message?: string\r\n    size?: number\r\n}\r\n\r\nexport default function Error({\r\n    message = 'Sorry, an error occured',\r\n    size = 1\r\n}: Props) {\r\n    return (\r\n        <div\r\n            style={{\r\n                display: 'flex',\r\n                justifyContent: 'center',\r\n                alignItems: 'center',\r\n                flex: 1,\r\n                color: 'red',\r\n                fontSize: `${size}em`\r\n            }}\r\n        >\r\n            <MaterialIcon icon=\"warning\" />\r\n            <span>{message}</span>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport MaterialIcon from './MaterialIcon'\r\nimport styles from './Info.module.scss'\r\n\r\ntype Props = {\r\n    icon: string\r\n    label: string\r\n    value: string\r\n}\r\n\r\nexport default function Info({ icon, label, value }: Props) {\r\n    return (\r\n        <div className={[styles.vCentered, styles.info].join(' ')}>\r\n            <span className={styles.labelContainer}>\r\n                <span className={styles.label}>\r\n                    <MaterialIcon icon={icon} className={styles.icon} />\r\n                    <span>{label} : </span>\r\n                </span>\r\n            </span>\r\n            <span className={styles.value}>\r\n                <span>{value}</span>\r\n            </span>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport Info from '../../shared/Info'\r\nimport { FilmInfos } from '../../../types/film'\r\n\r\ntype Props = {\r\n    film: FilmInfos\r\n}\r\n\r\nexport default function ShortFilmInfos({ film }: Props) {\r\n    return (\r\n        <>\r\n            <Info icon=\"movie\" label=\"Title\" value={film.title} />\r\n            <Info\r\n                icon=\"format_list_numbered\"\r\n                label=\"Episode\"\r\n                value={`${film.episode_id}`}\r\n            />\r\n            <Info icon=\"today\" label=\"Release Date\" value={film.release_date} />\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport Info from '../../shared/Info'\r\nimport ShortFilmInfos from './ShortFilmInfos'\r\nimport { FilmInfos } from '../../../types/film'\r\n\r\ntype Props = {\r\n    film: FilmInfos\r\n}\r\n\r\nexport default function FullFilmInfos({ film }: Props) {\r\n    return (\r\n        <>\r\n            <ShortFilmInfos film={film} />\r\n            <Info icon=\"face\" label=\"Director\" value={film.director} />\r\n            <Info icon=\"face\" label=\"Producer\" value={film.producer} />\r\n            <Info\r\n                icon=\"article\"\r\n                label=\"Opening Crawl\"\r\n                value={film.opening_crawl}\r\n            />\r\n        </>\r\n    )\r\n}\r\n","import React, { ReactNode, useEffect, useState } from 'react'\r\n\r\nimport Button from './Button'\r\nimport MaterialIcon from './MaterialIcon'\r\nimport { SwapiInfos } from '../../types/search'\r\n\r\nimport styles from './Carousel.module.scss'\r\n\r\ntype Props = {\r\n    itemsPerRow?: number\r\n    items: any[]\r\n    render: (items: any) => ReactNode\r\n}\r\n\r\nexport default function Carousel({ itemsPerRow = 3, items, render }: Props) {\r\n    const [start, setStart] = useState(0)\r\n    const [displayedItems, setDisplayedItems] = useState<SwapiInfos[]>([])\r\n\r\n    useEffect(() => {\r\n        const getDisplayedItems = () => items.slice(start, start + itemsPerRow)\r\n        setDisplayedItems(getDisplayedItems())\r\n    }, [start])\r\n\r\n    return (\r\n        <>\r\n            <Button\r\n                onClick={(_) => setStart(start - itemsPerRow)}\r\n                disabled={start === 0}\r\n            >\r\n                <MaterialIcon icon=\"chevron_left\" />\r\n            </Button>\r\n\r\n            <div className={styles.list}>{render(displayedItems)}</div>\r\n\r\n            <Button\r\n                onClick={(_) => setStart(start + itemsPerRow)}\r\n                disabled={start + itemsPerRow >= items.length}\r\n            >\r\n                <MaterialIcon icon=\"chevron_right\" />\r\n            </Button>\r\n        </>\r\n    )\r\n}\r\n","import { ReactNode, useEffect } from 'react'\r\nimport { createPortal } from 'react-dom'\r\n\r\ntype Props = {\r\n    mount?: HTMLElement\r\n    children: ReactNode\r\n}\r\n\r\nexport default function Portal({\r\n    children,\r\n    mount = document.getElementById('portal-root') as HTMLElement\r\n}: Props) {\r\n    const el = document.createElement('div')\r\n\r\n    useEffect(() => {\r\n        if (mount) {\r\n            mount.appendChild(el)\r\n\r\n            return () => {\r\n                mount.removeChild(el)\r\n            }\r\n        }\r\n    }, [el, mount])\r\n\r\n    return createPortal(children, el)\r\n}\r\n","import React from 'react'\r\n\r\nimport styles from './Card.module.scss'\r\n\r\ntype Props = React.DetailedHTMLProps<\r\n    React.HTMLAttributes<HTMLDivElement>,\r\n    HTMLDivElement\r\n>\r\n\r\nexport default function Card({ children, className, ...rest }: Props) {\r\n    return (\r\n        <div className={[className, styles.card].join(' ')} {...rest}>\r\n            {children}\r\n        </div>\r\n    )\r\n}\r\n","export enum RESSOURCES {\r\n    FILMS = 'films',\r\n    PEOPLE = 'people',\r\n    PLANETS = 'planets',\r\n    SPECIES = 'species',\r\n    STARSHIPS = 'starships',\r\n    VEHICLES = 'vehicles'\r\n}\r\n\r\nexport const RELATION_ITEM_PER_ROW = {\r\n    [RESSOURCES.FILMS]: 3,\r\n    [RESSOURCES.PEOPLE]: 3,\r\n    [RESSOURCES.PLANETS]: 2,\r\n    [RESSOURCES.SPECIES]: 3,\r\n    [RESSOURCES.STARSHIPS]: 2,\r\n    [RESSOURCES.VEHICLES]: 2\r\n}\r\n","import React, { CSSProperties, ReactNode } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport Button from '../shared/Button'\r\nimport Card from '../shared/Card'\r\nimport { RESSOURCES } from '../../constants/search'\r\nimport { SwapiInfos } from '../../types/search'\r\n\r\nimport styles from './RelationListIem.module.scss'\r\n\r\ntype Props = {\r\n    itemStyle: CSSProperties\r\n    relation: SwapiInfos\r\n    search: string\r\n    type: RESSOURCES\r\n    hideTooltip: () => void\r\n    renderRelation: (relation: SwapiInfos) => ReactNode\r\n    showTooltip: (hoveredButton: HTMLElement, relation: SwapiInfos) => void\r\n}\r\n\r\nexport default function RelationListItem({\r\n    itemStyle,\r\n    relation,\r\n    search,\r\n    type,\r\n    hideTooltip,\r\n    renderRelation,\r\n    showTooltip\r\n}: Props) {\r\n    return (\r\n        <>\r\n            <Card style={itemStyle}>\r\n                {renderRelation(relation)}\r\n\r\n                <div className={styles.buttonContainer}>\r\n                    <Button\r\n                        className={styles.button}\r\n                        onMouseOver={({ target }) =>\r\n                            showTooltip(target as HTMLElement, relation)\r\n                        }\r\n                        onMouseOut={hideTooltip}\r\n                    >\r\n                        Show More\r\n                    </Button>\r\n\r\n                    <Link\r\n                        to={{\r\n                            pathname: `/${type}/${relation.id}`,\r\n                            search\r\n                        }}\r\n                    >\r\n                        <Button className={styles.button}>\r\n                            Go to full detail\r\n                        </Button>\r\n                    </Link>\r\n                </div>\r\n            </Card>\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { motion } from 'framer-motion'\r\n\r\nimport Card from './Card'\r\n\r\nexport type TooltipCoordinates = {\r\n    left: number\r\n    bottom: number\r\n}\r\n\r\ntype Props = React.DetailedHTMLProps<\r\n    React.HTMLAttributes<HTMLDivElement>,\r\n    HTMLDivElement\r\n> & {\r\n    coords: TooltipCoordinates\r\n}\r\n\r\nexport default function Tooltip({ children, coords }: Props) {\r\n    return (\r\n        <motion.div\r\n            initial={{ opacity: 0, y: -50 }}\r\n            animate={{ opacity: 1, y: [-10, 0] }}\r\n            exit={{ y: -750 }}\r\n            style={{ position: 'absolute', ...coords }}\r\n        >\r\n            <Card>{children}</Card>\r\n        </motion.div>\r\n    )\r\n}\r\n","import React, { useState, useRef, CSSProperties, useEffect } from 'react'\r\nimport { AnimatePresence } from 'framer-motion'\r\nimport { useLocation } from 'react-router-dom'\r\n\r\nimport Carousel from '../shared/Carousel'\r\nimport Portal from '../shared/Portal'\r\nimport RelationListItem from './RelationListIem'\r\nimport Tooltip, { TooltipCoordinates } from '../shared/Tooltip'\r\nimport { RELATION_ITEM_PER_ROW, RESSOURCES } from '../../constants/search'\r\nimport { RESSOURCE_COMPONENT_CONFIGS } from '../../constants/config'\r\nimport { SwapiInfos } from '../../types/search'\r\n\r\ntype Props = {\r\n    type: RESSOURCES\r\n    relations: SwapiInfos[]\r\n}\r\n\r\nconst itemMargin = 1\r\n\r\nexport default function RelationsList({ type, relations }: Props) {\r\n    const [itemStyle, setItemStyle] = useState<CSSProperties>({})\r\n    const renderRelation = RESSOURCE_COMPONENT_CONFIGS[type]\r\n\r\n    const { search } = useLocation()\r\n    const itemsPerRow = RELATION_ITEM_PER_ROW[type]\r\n    const [selectedRelation, setSelectedRelation] = useState<SwapiInfos>()\r\n\r\n    const [isTooltipOpen, setIsTooltipOpen] = useState(false)\r\n    const [tooltipCoordinates, setTooltipCoordinates] = useState<\r\n        TooltipCoordinates\r\n    >()\r\n    const portalMount = useRef<HTMLDivElement>()\r\n\r\n    const showTooltip = (hoveredButton: HTMLElement, relation: SwapiInfos) => {\r\n        setIsTooltipOpen(true)\r\n        setSelectedRelation(relation)\r\n\r\n        const rect = hoveredButton.getBoundingClientRect()\r\n        setTooltipCoordinates({\r\n            left: rect.x,\r\n            bottom: window.innerHeight - (rect.y + window.scrollY - 15)\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        const getItemStyle = () => {\r\n            const totalMargin = itemsPerRow * itemMargin * 2\r\n            const width = (100 - totalMargin) / itemsPerRow\r\n            return {\r\n                margin: `${itemMargin}%`,\r\n                width: `${width}%`\r\n            }\r\n        }\r\n        setItemStyle(getItemStyle())\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n            <div style={{ display: 'flex' }}>\r\n                <Carousel\r\n                    items={relations}\r\n                    itemsPerRow={itemsPerRow}\r\n                    render={(displayedRelations: SwapiInfos[]) => (\r\n                        <>\r\n                            {displayedRelations.map((relation, index) => (\r\n                                <RelationListItem\r\n                                    itemStyle={itemStyle}\r\n                                    relation={relation}\r\n                                    search={search}\r\n                                    hideTooltip={() => setIsTooltipOpen(false)}\r\n                                    showTooltip={showTooltip}\r\n                                    renderRelation={renderRelation}\r\n                                    type={type}\r\n                                    key={index}\r\n                                />\r\n                            ))}\r\n                        </>\r\n                    )}\r\n                />\r\n            </div>\r\n\r\n            <div\r\n                ref={portalMount as React.MutableRefObject<HTMLDivElement>}\r\n                id=\"portal-root\"\r\n            ></div>\r\n\r\n            <AnimatePresence>\r\n                {isTooltipOpen && (\r\n                    <Portal mount={portalMount.current}>\r\n                        <Tooltip\r\n                            coords={tooltipCoordinates as TooltipCoordinates}\r\n                        >\r\n                            {renderRelation(\r\n                                selectedRelation as SwapiInfos,\r\n                                true\r\n                            )}\r\n                        </Tooltip>\r\n                    </Portal>\r\n                )}\r\n            </AnimatePresence>\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport styles from './Section.module.scss'\r\n\r\ntype Props = React.DetailedHTMLProps<\r\n    React.HTMLAttributes<HTMLDivElement>,\r\n    HTMLDivElement\r\n> & {\r\n    title: string\r\n}\r\n\r\nexport default function Section({ title, children, className }: Props) {\r\n    return (\r\n        <div className={[styles.section, className].join(' ')}>\r\n            <h4 className={styles.sectionTitle}>{title}</h4>\r\n\r\n            <div className={styles.sectionContent}>{children}</div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport FullFilmInfos from './infos/FullFilmInfos'\r\nimport RelationsList from './RelationsList'\r\nimport Section from '../shared/Section'\r\nimport { FullFilm } from '../../types/film'\r\nimport { RESSOURCES } from '../../constants/search'\r\n\r\nimport styles from './Details.module.scss'\r\n\r\ntype Props = {\r\n    film: FullFilm\r\n}\r\n\r\nexport default function FilmDetail({ film }: Props) {\r\n    return (\r\n        <div className={styles.detail}>\r\n            <Section title=\"FILM\">\r\n                <FullFilmInfos film={film} />\r\n            </Section>\r\n\r\n            {!!film.characters.length && (\r\n                <Section title={`CHARACTERS (${film.characters.length})`}>\r\n                    <RelationsList\r\n                        type={RESSOURCES.PEOPLE}\r\n                        relations={film.characters}\r\n                    />\r\n                </Section>\r\n            )}\r\n            {!!film.planets.length && (\r\n                <Section title={`PLANETS (${film.planets.length})`}>\r\n                    <RelationsList\r\n                        type={RESSOURCES.PLANETS}\r\n                        relations={film.planets}\r\n                    />\r\n                </Section>\r\n            )}\r\n            {!!film.starships.length && (\r\n                <Section title={`STARSHIPS (${film.starships.length})`}>\r\n                    <RelationsList\r\n                        type={RESSOURCES.STARSHIPS}\r\n                        relations={film.starships}\r\n                    />\r\n                </Section>\r\n            )}\r\n            {!!film.vehicles.length && (\r\n                <Section title={`VEHICLES (${film.vehicles.length})`}>\r\n                    <RelationsList\r\n                        type={RESSOURCES.VEHICLES}\r\n                        relations={film.vehicles}\r\n                    />\r\n                </Section>\r\n            )}\r\n            {!!film.species.length && (\r\n                <Section title={`SPECIES (${film.species.length})`}>\r\n                    <RelationsList\r\n                        type={RESSOURCES.SPECIES}\r\n                        relations={film.species}\r\n                    />\r\n                </Section>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport Info from '../../shared/Info'\r\nimport { PersonInfos } from '../../../types/person'\r\n\r\ntype Props = {\r\n    person: PersonInfos\r\n}\r\n\r\nexport default function ShortPersonInfos({ person }: Props) {\r\n    return (\r\n        <>\r\n            <Info icon=\"face\" label=\"Name\" value={person.name} />\r\n            <Info icon=\"wc\" label=\"Gender\" value={person.gender} />\r\n            <Info icon=\"event\" label=\"Birth Year\" value={person.birth_year} />\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport Info from '../../shared/Info'\r\nimport ShortPersonInfos from './ShortPersonInfos'\r\nimport { PersonInfos } from '../../../types/person'\r\n\r\ntype Props = {\r\n    person: PersonInfos\r\n}\r\n\r\nexport default function FullPersonInfos({ person }: Props) {\r\n    return (\r\n        <>\r\n            <ShortPersonInfos person={person} />\r\n            <Info icon=\"palette\" label=\"Skin Color\" value={person.skin_color} />\r\n            <Info icon=\"palette\" label=\"Eye Color\" value={person.eye_color} />\r\n            <Info icon=\"palette\" label=\"Hair Color\" value={person.hair_color} />\r\n            <Info icon=\"adjust\" label=\"Mass\" value={person.mass} />\r\n            <Info icon=\"height\" label=\"Height\" value={person.height} />\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport Info from '../../shared/Info'\r\nimport { PlanetInfos } from '../../../types/planet'\r\n\r\ntype Props = {\r\n    planet: PlanetInfos\r\n}\r\n\r\nexport default function ShortPlanetInfos({ planet }: Props) {\r\n    return (\r\n        <>\r\n            <Info icon=\"public\" label=\"Name\" value={planet.name} />\r\n            <Info icon=\"groups\" label=\"Population\" value={planet.population} />\r\n            <Info icon=\"wb_sunny\" label=\"Climate\" value={planet.climate} />\r\n            <Info icon=\"terrain\" label=\"Terrain\" value={planet.terrain} />\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport Info from '../../shared/Info'\r\nimport ShortPlanetInfos from './ShortPlanetInfos'\r\nimport { PlanetInfos } from '../../../types/planet'\r\n\r\ntype Props = {\r\n    planet: PlanetInfos\r\n}\r\n\r\nexport default function FullPlanetInfos({ planet }: Props) {\r\n    return (\r\n        <>\r\n            <ShortPlanetInfos planet={planet} />{' '}\r\n            <Info\r\n                icon=\"not_interested\"\r\n                label=\"Diameter\"\r\n                value={planet.diameter}\r\n            />\r\n            <Info\r\n                icon=\"360\"\r\n                label=\"Rotation Period\"\r\n                value={planet.rotation_period}\r\n            />\r\n            <Info\r\n                icon=\"settings_backup_restore\"\r\n                label=\"Orbital Period\"\r\n                value={planet.orbital_period}\r\n            />\r\n            <Info\r\n                icon=\"arrow_downward\"\r\n                label=\"Gravity\"\r\n                value={planet.gravity}\r\n            />\r\n            <Info\r\n                icon=\"waves\"\r\n                label=\"Surface Water\"\r\n                value={planet.surface_water}\r\n            />\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport Info from '../../shared/Info'\r\nimport { SpeciesInfos } from '../../../types/species'\r\n\r\ntype Props = {\r\n    species: SpeciesInfos\r\n}\r\n\r\nexport default function ShortSpeciesInfos({ species }: Props) {\r\n    return (\r\n        <>\r\n            <Info icon=\"people\" label=\"Name\" value={species.name} />\r\n            <Info\r\n                icon=\"category\"\r\n                label=\"Classification\"\r\n                value={species.classification}\r\n            />\r\n            <Info\r\n                icon=\"psychology\"\r\n                label=\"Designation\"\r\n                value={species.designation}\r\n            />\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport Info from '../../shared/Info'\r\nimport ShortSpeciesInfos from './ShortSpeciesInfos'\r\nimport { SpeciesInfos } from '../../../types/species'\r\n\r\ntype Props = {\r\n    species: SpeciesInfos\r\n}\r\n\r\nexport default function FullSpeciesInfos({ species }: Props) {\r\n    return (\r\n        <>\r\n            <ShortSpeciesInfos species={species} />\r\n            <Info\r\n                icon=\"height\"\r\n                label=\"Average Height\"\r\n                value={species.average_height}\r\n            />\r\n            <Info\r\n                icon=\"elderly\"\r\n                label=\"Average Lifespan\"\r\n                value={species.average_lifespan}\r\n            />\r\n            <Info\r\n                icon=\"palette\"\r\n                label=\"Eye Colors\"\r\n                value={species.eye_colors}\r\n            />\r\n            <Info\r\n                icon=\"palette\"\r\n                label=\"Hair Colors\"\r\n                value={species.hair_colors}\r\n            />\r\n            <Info\r\n                icon=\"palette\"\r\n                label=\"Skin Colors\"\r\n                value={species.skin_colors}\r\n            />\r\n            <Info\r\n                icon=\"record_voice_over\"\r\n                label=\"Language\"\r\n                value={species.language}\r\n            />\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport Info from '../../shared/Info'\r\nimport { StarshipInfos } from '../../../types/starship'\r\n\r\ntype Props = {\r\n    starship: StarshipInfos\r\n}\r\n\r\nexport default function ShortStarshipInfos({ starship }: Props) {\r\n    return (\r\n        <>\r\n            <Info\r\n                icon=\"airplanemode_active\"\r\n                label=\"Name\"\r\n                value={starship.name}\r\n            />\r\n            <Info icon=\"scatter_plot\" label=\"Model\" value={starship.model} />\r\n            <Info\r\n                icon=\"category\"\r\n                label=\"Starship Class\"\r\n                value={starship.starship_class}\r\n            />\r\n            <Info\r\n                icon=\"corporate_fare\"\r\n                label=\"Manufacturer\"\r\n                value={starship.manufacturer}\r\n            />\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport Info from '../../shared/Info'\r\nimport ShortStarshipInfos from './ShortStarshipInfos'\r\nimport { StarshipInfos } from '../../../types/starship'\r\n\r\ntype Props = {\r\n    starship: StarshipInfos\r\n}\r\n\r\nexport default function FullStarshipInfos({ starship }: Props) {\r\n    return (\r\n        <>\r\n            <ShortStarshipInfos starship={starship} />\r\n            <Info\r\n                icon=\"credit_card\"\r\n                label=\"Cost In Credits\"\r\n                value={starship.cost_in_credits}\r\n            />\r\n            <Info icon=\"straighten\" label=\"Length\" value={starship.length} />\r\n            <Info icon=\"groups\" label=\"Crew\" value={starship.crew} />\r\n            <Info\r\n                icon=\"reduce_capacity\"\r\n                label=\"Passengers\"\r\n                value={starship.passengers}\r\n            />\r\n            <Info\r\n                icon=\"speed\"\r\n                label=\"Max Atmosphering Speed\"\r\n                value={starship.max_atmosphering_speed}\r\n            />\r\n            <Info\r\n                icon=\"star\"\r\n                label=\"Hyperdrive Rating\"\r\n                value={starship.hyperdrive_rating}\r\n            />\r\n            <Info icon=\"flash_on\" label=\"MGLT\" value={starship.MGLT} />\r\n            <Info\r\n                icon=\"luggage\"\r\n                label=\"Cargo Capacity\"\r\n                value={starship.cargo_capacity}\r\n            />\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport Info from '../../shared/Info'\r\nimport { VehicleInfos } from '../../../types/vehicle'\r\n\r\ntype Props = {\r\n    vehicle: VehicleInfos\r\n}\r\n\r\nexport default function ShortVehicleInfos({ vehicle }: Props) {\r\n    return (\r\n        <>\r\n            <Info icon=\"directions_car\" label=\"Name\" value={vehicle.name} />\r\n            <Info icon=\"scatter_plot\" label=\"Model\" value={vehicle.model} />\r\n            <Info\r\n                icon=\"category\"\r\n                label=\"Vehicle Class\"\r\n                value={vehicle.vehicle_class}\r\n            />\r\n            <Info\r\n                icon=\"corporate_fare\"\r\n                label=\"Manufacturer\"\r\n                value={vehicle.manufacturer}\r\n            />\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport Info from '../../shared/Info'\r\nimport ShortVehicleInfos from './ShortVehicleInfos'\r\nimport { VehicleInfos } from '../../../types/vehicle'\r\n\r\ntype Props = {\r\n    vehicle: VehicleInfos\r\n}\r\n\r\nexport default function FullVehicleInfos({ vehicle }: Props) {\r\n    return (\r\n        <>\r\n            <ShortVehicleInfos vehicle={vehicle} />\r\n            <Info icon=\"straighten\" label=\"Length\" value={vehicle.length} />\r\n            <Info\r\n                icon=\"credit_card\"\r\n                label=\"Cost In Credits\"\r\n                value={vehicle.cost_in_credits}\r\n            />\r\n            <Info icon=\"groups\" label=\"Crew\" value={vehicle.crew} />\r\n            <Info\r\n                icon=\"reduce_capacity\"\r\n                label=\"Passengers\"\r\n                value={vehicle.passengers}\r\n            />\r\n            <Info\r\n                icon=\"speed\"\r\n                label=\"Max Atmosphering Speed\"\r\n                value={vehicle.max_atmosphering_speed}\r\n            />\r\n            <Info\r\n                icon=\"luggage\"\r\n                label=\"Capacity\"\r\n                value={vehicle.cargo_capacity}\r\n            />\r\n            <Info\r\n                icon=\"opacity\"\r\n                label=\"Consumables\"\r\n                value={vehicle.consumables}\r\n            />\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport FullPersonInfos from './infos/FullPersonInfos'\r\nimport RelationsList from './RelationsList'\r\nimport Section from '../shared/Section'\r\nimport ShortPlanetInfos from './infos/ShortPlanetInfos'\r\nimport { FullPerson } from '../../types/person'\r\nimport { RESSOURCES } from '../../constants/search'\r\n\r\nimport styles from './Details.module.scss'\r\n\r\ntype Props = {\r\n    person: FullPerson\r\n}\r\n\r\nexport default function PersonDetail({ person }: Props) {\r\n    return (\r\n        <div className={styles.detail}>\r\n            <Section title=\"PERSON\">\r\n                <FullPersonInfos person={person} />\r\n            </Section>\r\n\r\n            {!!person.films.length && (\r\n                <Section title={`FILMS (${person.films.length})`}>\r\n                    <RelationsList\r\n                        type={RESSOURCES.FILMS}\r\n                        relations={person.films}\r\n                    />\r\n                </Section>\r\n            )}\r\n            {!!person.homeworld && (\r\n                <Section title=\"HOMEWORLD\">\r\n                    <ShortPlanetInfos planet={person.homeworld} />\r\n                </Section>\r\n            )}\r\n            {!!person.species.length && (\r\n                <Section title={`SPECIES (${person.species.length})`}>\r\n                    <RelationsList\r\n                        type={RESSOURCES.SPECIES}\r\n                        relations={person.species}\r\n                    />\r\n                </Section>\r\n            )}\r\n            {!!person.starships.length && (\r\n                <Section title={`STARSHIPS (${person.starships.length})`}>\r\n                    <RelationsList\r\n                        type={RESSOURCES.STARSHIPS}\r\n                        relations={person.starships}\r\n                    />\r\n                </Section>\r\n            )}\r\n            {!!person.vehicles.length && (\r\n                <Section title={`VEHICLES (${person.vehicles.length})`}>\r\n                    <RelationsList\r\n                        type={RESSOURCES.VEHICLES}\r\n                        relations={person.vehicles}\r\n                    />\r\n                </Section>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport FullPlanetInfos from './infos/FullPlanetInfos'\r\nimport RelationsList from './RelationsList'\r\nimport Section from '../shared/Section'\r\nimport { FullPlanet } from '../../types/planet'\r\nimport { RESSOURCES } from '../../constants/search'\r\n\r\nimport styles from './Details.module.scss'\r\n\r\ntype Props = {\r\n    planet: FullPlanet\r\n}\r\n\r\nexport default function PlanetDetail({ planet }: Props) {\r\n    return (\r\n        <div className={styles.detail}>\r\n            <Section title=\"PLANET\">\r\n                <FullPlanetInfos planet={planet} />\r\n            </Section>\r\n\r\n            {!!planet.residents.length && (\r\n                <Section title={`RESIDENTS (${planet.residents.length})`}>\r\n                    <RelationsList\r\n                        type={RESSOURCES.PEOPLE}\r\n                        relations={planet.residents}\r\n                    />\r\n                </Section>\r\n            )}\r\n            {!!planet.films.length && (\r\n                <Section title={`FILMS (${planet.films.length})`}>\r\n                    <RelationsList\r\n                        type={RESSOURCES.FILMS}\r\n                        relations={planet.films}\r\n                    />\r\n                </Section>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport FullSpeciesInfos from './infos/FullSpeciesInfos'\r\nimport RelationsList from './RelationsList'\r\nimport Section from '../shared/Section'\r\nimport ShortPlanetInfos from './infos/ShortPlanetInfos'\r\nimport { FullSpecies } from '../../types/species'\r\nimport { RESSOURCES } from '../../constants/search'\r\n\r\nimport styles from './Details.module.scss'\r\n\r\ntype Props = {\r\n    species: FullSpecies\r\n}\r\n\r\nexport default function SpeciesDetail({ species }: Props) {\r\n    return (\r\n        <div className={styles.detail}>\r\n            <Section title=\"SPECIES\">\r\n                <FullSpeciesInfos species={species} />\r\n            </Section>\r\n\r\n            {!!species.homeworld && (\r\n                <Section title=\"HOMEWORLD\">\r\n                    <ShortPlanetInfos planet={species.homeworld} />\r\n                </Section>\r\n            )}\r\n            {!!species.people.length && (\r\n                <Section title={`PEOPLE (${species.people.length})`}>\r\n                    <RelationsList\r\n                        type={RESSOURCES.PEOPLE}\r\n                        relations={species.people}\r\n                    />\r\n                </Section>\r\n            )}\r\n            {!!species.films.length && (\r\n                <Section title={`FILMS (${species.films.length})`}>\r\n                    <RelationsList\r\n                        type={RESSOURCES.FILMS}\r\n                        relations={species.films}\r\n                    />\r\n                </Section>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport FullStarshipInfos from './infos/FullStarshipInfos'\r\nimport RelationsList from './RelationsList'\r\nimport Section from '../shared/Section'\r\nimport { FullStarship } from '../../types/starship'\r\nimport { RESSOURCES } from '../../constants/search'\r\n\r\nimport styles from './Details.module.scss'\r\n\r\ntype Props = {\r\n    starship: FullStarship\r\n}\r\n\r\nexport default function StarshipDetail({ starship }: Props) {\r\n    return (\r\n        <div className={styles.detail}>\r\n            <Section title=\"STARSHIP\">\r\n                <FullStarshipInfos starship={starship} />\r\n            </Section>\r\n\r\n            {!!starship.pilots.length && (\r\n                <Section title={`PILOTS (${starship.pilots.length})`}>\r\n                    <RelationsList\r\n                        type={RESSOURCES.PEOPLE}\r\n                        relations={starship.pilots}\r\n                    />\r\n                </Section>\r\n            )}\r\n            {!!starship.films.length && (\r\n                <Section title={`FILMS (${starship.films.length})`}>\r\n                    <RelationsList\r\n                        type={RESSOURCES.FILMS}\r\n                        relations={starship.films}\r\n                    />\r\n                </Section>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport FullVehicleInfos from './infos/FullVehicleInfos'\r\nimport RelationsList from './RelationsList'\r\nimport Section from '../shared/Section'\r\nimport { FullVehicle } from '../../types/vehicle'\r\nimport { RESSOURCES } from '../../constants/search'\r\n\r\nimport styles from './Details.module.scss'\r\n\r\ntype Props = {\r\n    vehicle: FullVehicle\r\n}\r\n\r\nexport default function VehicleDetail({ vehicle }: Props) {\r\n    return (\r\n        <div className={styles.detail}>\r\n            <Section title=\"VEHICLE\">\r\n                <FullVehicleInfos vehicle={vehicle} />\r\n            </Section>\r\n\r\n            {!!vehicle.pilots.length && (\r\n                <Section title={`PILOTS (${vehicle.pilots.length})`}>\r\n                    <RelationsList\r\n                        type={RESSOURCES.PEOPLE}\r\n                        relations={vehicle.pilots}\r\n                    />\r\n                </Section>\r\n            )}\r\n            {!!vehicle.films.length && (\r\n                <Section title={`FILMS (${vehicle.films.length})`}>\r\n                    <RelationsList\r\n                        type={RESSOURCES.FILMS}\r\n                        relations={vehicle.films}\r\n                    />\r\n                </Section>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport FilmDetail from '../components/details/FilmDetail'\r\nimport FullFilmInfos from '../components/details/infos/FullFilmInfos'\r\nimport FullPersonInfos from '../components/details/infos/FullPersonInfos'\r\nimport FullPlanetInfos from '../components/details/infos/FullPlanetInfos'\r\nimport FullSpeciesInfos from '../components/details/infos/FullSpeciesInfos'\r\nimport FullStarshipInfos from '../components/details/infos/FullStarshipInfos'\r\nimport FullVehicleInfos from '../components/details/infos/FullVehicleInfos'\r\nimport PersonDetail from '../components/details/PersonDetail'\r\nimport PlanetDetail from '../components/details/PlanetDetail'\r\nimport ShortFilmInfos from '../components/details/infos/ShortFilmInfos'\r\nimport ShortPersonInfos from '../components/details/infos/ShortPersonInfos'\r\nimport ShortPlanetInfos from '../components/details/infos/ShortPlanetInfos'\r\nimport ShortSpeciesInfos from '../components/details/infos/ShortSpeciesInfos'\r\nimport ShortStarshipInfos from '../components/details/infos/ShortStarshipInfos'\r\nimport ShortVehicleInfos from '../components/details/infos/ShortVehicleInfos'\r\nimport SpeciesDetail from '../components/details/SpeciesDetail'\r\nimport StarshipDetail from '../components/details/StarshipDetail'\r\nimport VehicleDetail from '../components/details/VehicleDetail'\r\nimport { FilmInfos, FullFilm } from '../types/film'\r\nimport { FullPerson, PersonInfos } from '../types/person'\r\nimport { FullPlanet, PlanetInfos } from '../types/planet'\r\nimport { FullSpecies, SpeciesInfos } from '../types/species'\r\nimport { FullStarship, StarshipInfos } from '../types/starship'\r\nimport { FullVehicle, VehicleInfos } from '../types/vehicle'\r\nimport { RESSOURCES } from './search'\r\nimport { SwapiDetail, SwapiInfos } from '../types/search'\r\n\r\nexport const RESSOURCE_DETAIL_CONFIGS = {\r\n    [RESSOURCES.FILMS]: (film: SwapiDetail) => (\r\n        <FilmDetail film={film as FullFilm} />\r\n    ),\r\n    [RESSOURCES.PEOPLE]: (person: SwapiDetail) => (\r\n        <PersonDetail person={person as FullPerson} />\r\n    ),\r\n    [RESSOURCES.PLANETS]: (planet: SwapiDetail) => (\r\n        <PlanetDetail planet={planet as FullPlanet} />\r\n    ),\r\n    [RESSOURCES.SPECIES]: (species: SwapiDetail) => (\r\n        <SpeciesDetail species={species as FullSpecies} />\r\n    ),\r\n    [RESSOURCES.STARSHIPS]: (starship: SwapiDetail) => (\r\n        <StarshipDetail starship={starship as FullStarship} />\r\n    ),\r\n    [RESSOURCES.VEHICLES]: (vehicle: SwapiDetail) => (\r\n        <VehicleDetail vehicle={vehicle as FullVehicle} />\r\n    )\r\n}\r\n\r\nexport const RESSOURCE_COMPONENT_CONFIGS = {\r\n    [RESSOURCES.FILMS]: (film: SwapiInfos, showFull = false) =>\r\n        showFull ? (\r\n            <FullFilmInfos film={film as FilmInfos} />\r\n        ) : (\r\n            <ShortFilmInfos film={film as FilmInfos} />\r\n        ),\r\n    [RESSOURCES.PEOPLE]: (person: SwapiInfos, showFull = false) =>\r\n        showFull ? (\r\n            <FullPersonInfos person={person as PersonInfos} />\r\n        ) : (\r\n            <ShortPersonInfos person={person as PersonInfos} />\r\n        ),\r\n    [RESSOURCES.PLANETS]: (planet: SwapiInfos, showFull = false) =>\r\n        showFull ? (\r\n            <FullPlanetInfos planet={planet as PlanetInfos} />\r\n        ) : (\r\n            <ShortPlanetInfos planet={planet as PlanetInfos} />\r\n        ),\r\n    [RESSOURCES.SPECIES]: (species: SwapiInfos, showFull = false) =>\r\n        showFull ? (\r\n            <FullSpeciesInfos species={species as SpeciesInfos} />\r\n        ) : (\r\n            <ShortSpeciesInfos species={species as SpeciesInfos} />\r\n        ),\r\n    [RESSOURCES.STARSHIPS]: (starship: SwapiInfos, showFull = false) =>\r\n        showFull ? (\r\n            <FullStarshipInfos starship={starship as StarshipInfos} />\r\n        ) : (\r\n            <ShortStarshipInfos starship={starship as StarshipInfos} />\r\n        ),\r\n    [RESSOURCES.VEHICLES]: (vehicle: SwapiInfos, showFull = false) =>\r\n        showFull ? (\r\n            <FullVehicleInfos vehicle={vehicle as VehicleInfos} />\r\n        ) : (\r\n            <ShortVehicleInfos vehicle={vehicle as VehicleInfos} />\r\n        )\r\n}\r\n","import { RESSOURCES } from '../constants/search'\r\n\r\nconst BASE_URL = process.env.REACT_APP_URL_API || 'http://localhost:3001'\r\n\r\nexport type APIResponse<T> = {\r\n    status: number\r\n    body: T\r\n}\r\n\r\nexport async function searchAPI(\r\n    params: { [key: string]: string },\r\n    signal?: AbortSignal\r\n): Promise<APIResponse<any>> {\r\n    const queryString = new URLSearchParams(params).toString()\r\n\r\n    return formatFetchResponse(\r\n        await fetch(`${BASE_URL}?${queryString}`, { signal })\r\n    )\r\n}\r\n\r\nexport async function getDetailAPI(\r\n    type: RESSOURCES,\r\n    id: number\r\n): Promise<APIResponse<any>> {\r\n    return formatFetchResponse(await fetch(`${BASE_URL}/${type}/${id}`))\r\n}\r\n\r\nasync function formatFetchResponse(response: Response) {\r\n    return {\r\n        status: response.status,\r\n        body: await response.json()\r\n    }\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Link, useHistory, useLocation, useParams } from 'react-router-dom'\r\nimport { motion } from 'framer-motion'\r\n\r\nimport Button from '../components/shared/Button'\r\nimport CenteredLoader from '../components/shared/CenteredLoader'\r\nimport Error from '../components/shared/Error'\r\nimport MaterialIcon from '../components/shared/MaterialIcon'\r\nimport { RESSOURCES } from '../constants/search'\r\nimport { RESSOURCE_DETAIL_CONFIGS } from '../constants/config'\r\nimport { SwapiDetail } from '../types/search'\r\nimport { getDetailAPI } from '../service/api'\r\n\r\nimport styles from './DetailPage.module.scss'\r\n\r\nexport default function DetailPage() {\r\n    const { type, id } = useParams<{ id: string; type: string }>()\r\n    const { search } = useLocation()\r\n    const history = useHistory()\r\n    const [loading, setLoading] = useState(true)\r\n    const [data, setData] = useState<SwapiDetail>()\r\n    const [error, setError] = useState(false)\r\n\r\n    useEffect(() => {\r\n        const getDetail = async () => {\r\n            try {\r\n                const { body, status } = await getDetailAPI(\r\n                    type as RESSOURCES,\r\n                    +id\r\n                )\r\n\r\n                document.title = `${type.toUpperCase()} - ${\r\n                    body?.name || body?.title\r\n                }`\r\n                setData(body)\r\n                setError(status !== 200)\r\n                setLoading(false)\r\n            } catch (e) {\r\n                setError(true)\r\n                setLoading(false)\r\n            }\r\n        }\r\n\r\n        getDetail()\r\n    }, [type, id])\r\n\r\n    useEffect(() => {\r\n        const unlisten = history.listen(() => setLoading(true))\r\n\r\n        return () => unlisten()\r\n    }, [])\r\n\r\n    const showContent = () => {\r\n        if (loading) {\r\n            return <CenteredLoader />\r\n        } else {\r\n            if (error) {\r\n                return <Error />\r\n            } else if (data) {\r\n                return (\r\n                    <motion.div\r\n                        initial={{ opacity: 0 }}\r\n                        animate={{ opacity: 1 }}\r\n                        transition={{ duration: 1 }}\r\n                    >\r\n                        {RESSOURCE_DETAIL_CONFIGS[type as RESSOURCES](data)}\r\n                    </motion.div>\r\n                )\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={styles.main}>\r\n            <div className={styles.buttonContainer}>\r\n                <Link to={{ pathname: '/', search }}>\r\n                    <Button className={styles.button}>\r\n                        <MaterialIcon icon=\"keyboard_backspace\" />\r\n                        <span>Back to search</span>\r\n                    </Button>\r\n                </Link>\r\n            </div>\r\n\r\n            <div className={styles.detail}>{showContent()}</div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Link, useLocation } from 'react-router-dom'\r\n\r\nimport InfiniteScroll from 'react-infinite-scroller'\r\nimport Loader from './shared/Loader'\r\nimport styles from './RessourceList.module.scss'\r\nimport { RESSOURCES } from '../constants/search'\r\nimport { SearchResult } from '../types/search'\r\n\r\ntype Props = {\r\n    type: RESSOURCES\r\n    results: SearchResult\r\n    onLoadMore: (type: RESSOURCES, page: number) => void\r\n}\r\n\r\nexport default function RessourceList({ type, results, onLoadMore }: Props) {\r\n    const { search } = useLocation()\r\n\r\n    return (\r\n        <InfiniteScroll\r\n            loadMore={() => onLoadMore(type, results.next)}\r\n            hasMore={!!results.next}\r\n            loader={<Loader key={type} style={{ margin: '1em auto' }} />}\r\n            useWindow={false}\r\n        >\r\n            {results.results.map((result: any, index: number) => (\r\n                <div key={index} className={styles.listItem}>\r\n                    <Link\r\n                        to={{\r\n                            pathname: `/${type}/${result.id}`,\r\n                            search\r\n                        }}\r\n                    >\r\n                        <div>{result.name}</div>\r\n                    </Link>\r\n                </div>\r\n            ))}\r\n        </InfiniteScroll>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { motion } from 'framer-motion'\r\nimport { useHistory, useLocation } from 'react-router-dom'\r\n\r\nimport CenteredLoader from './shared/CenteredLoader'\r\nimport Error from './shared/Error'\r\nimport RessourceList from './RessourceList'\r\nimport Section from './shared/Section'\r\nimport styles from './SearchResults.module.scss'\r\nimport { RESSOURCES } from '../constants/search'\r\nimport { ResultTree, SearchResult } from '../types/search'\r\nimport { searchAPI } from '../service/api'\r\n\r\ntype Props = React.DetailedHTMLProps<\r\n    React.HTMLAttributes<HTMLDivElement>,\r\n    HTMLDivElement\r\n> & {\r\n    type: string\r\n    keyword: string\r\n}\r\n\r\nexport default function SearchResults({ type, keyword, className }: Props) {\r\n    const [isLoading, setIsLoading] = useState(true)\r\n    const [hasError, setHasError] = useState(false)\r\n    const [results, setResults] = useState<ResultTree>({} as ResultTree)\r\n    const [\r\n        pendingRequest,\r\n        setPendingRequest\r\n    ] = useState<AbortController | null>()\r\n    const history = useHistory()\r\n    const location = useLocation()\r\n\r\n    const loadNextPage = async (type: RESSOURCES, page: number) => {\r\n        try {\r\n            const { body, status } = await searchAPI({\r\n                type,\r\n                keyword,\r\n                page: `${page}`\r\n            })\r\n\r\n            if (status === 200) {\r\n                const ressourceResults = body[type]\r\n                setResults((prevResults) => ({\r\n                    ...prevResults,\r\n                    [type]: {\r\n                        ...prevResults[type],\r\n                        next: ressourceResults.next,\r\n                        results: [\r\n                            ...(prevResults[type as RESSOURCES] as SearchResult)\r\n                                .results,\r\n                            ...ressourceResults.results\r\n                        ]\r\n                    }\r\n                }))\r\n            }\r\n        } catch (e) {\r\n            console.log('Load next page failed', type, page)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        const setQueryParams = () =>\r\n            history.push({\r\n                pathname: location.pathname,\r\n                search: new URLSearchParams({\r\n                    type: type || '',\r\n                    keyword: keyword || ''\r\n                }).toString()\r\n            })\r\n\r\n        const fetchResults = async () => {\r\n            setIsLoading(true)\r\n\r\n            if (pendingRequest) {\r\n                pendingRequest.abort()\r\n            }\r\n\r\n            const controller = new AbortController()\r\n            setPendingRequest(controller)\r\n\r\n            try {\r\n                const { body, status } = await searchAPI(\r\n                    { type, keyword },\r\n                    controller.signal\r\n                )\r\n                setPendingRequest(null)\r\n                setResults(body)\r\n                setHasError(status !== 200)\r\n                setIsLoading(false)\r\n            } catch (e) {\r\n                setPendingRequest(null)\r\n                if (e.name !== 'AbortError') {\r\n                    setHasError(true)\r\n                    setIsLoading(false)\r\n                }\r\n            }\r\n        }\r\n\r\n        setQueryParams()\r\n        fetchResults()\r\n    }, [keyword, type])\r\n\r\n    const showContent = () => {\r\n        if (isLoading) {\r\n            return <CenteredLoader />\r\n        }\r\n\r\n        if (hasError) {\r\n            return <Error />\r\n        }\r\n\r\n        return (\r\n            <motion.div\r\n                initial={{ y: 100, opacity: 0 }}\r\n                animate={{ y: [10, 0], opacity: 1 }}\r\n                className={styles.results}\r\n            >\r\n                {Object.keys(results).map(\r\n                    (ressourceType) =>\r\n                        results[ressourceType as RESSOURCES] && (\r\n                            <Section\r\n                                title={`${ressourceType.toUpperCase()} (${\r\n                                    (results[\r\n                                        ressourceType as RESSOURCES\r\n                                    ] as SearchResult).count\r\n                                })`}\r\n                                key={ressourceType}\r\n                                className={styles.section}\r\n                            >\r\n                                <RessourceList\r\n                                    type={ressourceType as RESSOURCES}\r\n                                    results={\r\n                                        results[\r\n                                            ressourceType as RESSOURCES\r\n                                        ] as SearchResult\r\n                                    }\r\n                                    onLoadMore={loadNextPage}\r\n                                />\r\n                            </Section>\r\n                        )\r\n                )}\r\n            </motion.div>\r\n        )\r\n    }\r\n\r\n    return <div className={className}>{showContent()}</div>\r\n}\r\n","import React from 'react'\r\nimport { useForm } from 'react-hook-form'\r\n\r\nimport { RESSOURCES } from '../constants/search'\r\nimport { SearchQuery } from '../types/search'\r\n\r\nimport styles from './Searchbar.module.scss'\r\n\r\ntype Props = {\r\n    initialValue: SearchQuery\r\n    onChange: (searchQuery: SearchQuery) => void\r\n    className: string\r\n}\r\n\r\nexport default function Searchbar({\r\n    initialValue,\r\n    onChange,\r\n    className\r\n}: Props) {\r\n    const types = [''].concat(Object.values(RESSOURCES))\r\n    const { register, handleSubmit, getValues } = useForm({\r\n        defaultValues: initialValue\r\n    })\r\n\r\n    return (\r\n        <form\r\n            className={[className, styles.form].join(' ')}\r\n            onSubmit={handleSubmit(onChange)}\r\n        >\r\n            <div\r\n                className={[styles.commonContainer, styles.inputContainer].join(\r\n                    ''\r\n                )}\r\n            >\r\n                <input\r\n                    className={styles.input}\r\n                    type=\"text\"\r\n                    name=\"keyword\"\r\n                    placeholder=\"Enter your search here\"\r\n                    ref={register}\r\n                    onKeyUp={(_) => onChange(getValues())}\r\n                />\r\n            </div>\r\n\r\n            <div\r\n                className={[\r\n                    styles.commonContainer,\r\n                    styles.selectContainer\r\n                ].join(' ')}\r\n            >\r\n                <select\r\n                    className={styles.select}\r\n                    name=\"type\"\r\n                    ref={register}\r\n                    onChange={(_) => onChange(getValues())}\r\n                >\r\n                    {types.map((type) => (\r\n                        <option value={type} key={type}>\r\n                            {type.toUpperCase()}\r\n                        </option>\r\n                    ))}\r\n                </select>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { useThrottle, useTitle } from 'ahooks'\r\n\r\nimport SearchResults from '../components/SearchResults'\r\nimport Searchbar from '../components/Searchbar'\r\nimport styles from './HomePage.module.scss'\r\nimport useQueryParams from '../hooks/useQueryParams'\r\nimport { RESSOURCES } from '../constants/search'\r\nimport { SearchQuery } from '../types/search'\r\n\r\nexport default function Homepage() {\r\n    useTitle('Empire Search')\r\n    const queryParams = useQueryParams(['type', 'keyword'])\r\n    const [type, setType] = useState(getType(queryParams.type as RESSOURCES))\r\n    const [keyword, setKeyword] = useState(queryParams.keyword)\r\n    const throttledKeyword = useThrottle(keyword, { wait: 500 })\r\n    const [showResults, setShowResults] = useState(true)\r\n\r\n    const onSearchChange = ({ type, keyword }: SearchQuery) => {\r\n        setKeyword(keyword)\r\n        setType(type)\r\n        setShowResults(true)\r\n    }\r\n\r\n    function getType(type: RESSOURCES): string {\r\n        return Object.values(RESSOURCES).includes(type) ? type : ''\r\n    }\r\n\r\n    return (\r\n        <div className={styles.main}>\r\n            <Searchbar\r\n                className={styles.searchbar}\r\n                initialValue={{ keyword, type }}\r\n                onChange={onSearchChange}\r\n            />\r\n            {showResults && (\r\n                <SearchResults\r\n                    type={type}\r\n                    keyword={throttledKeyword}\r\n                    className={styles.results}\r\n                />\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","import { useLocation } from 'react-router-dom'\r\n\r\ntype ParamMap = { [key: string]: string }\r\n\r\nexport default function useQueryParams(keys: string[]): ParamMap {\r\n    const location = useLocation()\r\n    const params = new URLSearchParams(location.search)\r\n\r\n    return keys.reduce((paramsMap, key) => {\r\n        paramsMap[key] = params.get(key) || ''\r\n\r\n        return paramsMap\r\n    }, {} as ParamMap)\r\n}\r\n","import React from 'react'\r\nimport { BrowserRouter, Redirect, Route, Switch } from 'react-router-dom'\r\n\r\nimport DetailPage from './pages/DetailPage'\r\nimport Homepage from './pages/HomePage'\r\nimport { RESSOURCES } from './constants/search'\r\n\r\nconst baseName = process.env.REACT_APP_ROUTE_BASENAME || '/'\r\n\r\nexport default function Routes() {\r\n    return (\r\n        <BrowserRouter basename={baseName}>\r\n            <Switch>\r\n                <Route path=\"/\" exact>\r\n                    <Homepage />\r\n                </Route>\r\n\r\n                <Route\r\n                    path=\"/:type/:id\"\r\n                    render={({ match }) => {\r\n                        const type = match.params.type\r\n\r\n                        return Object.values(RESSOURCES).includes(type) ? (\r\n                            <DetailPage />\r\n                        ) : (\r\n                            <Redirect to=\"/\" />\r\n                        )\r\n                    }}\r\n                />\r\n\r\n                <Route path=\"*\">\r\n                    <Homepage />\r\n                </Route>\r\n            </Switch>\r\n        </BrowserRouter>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport Routes from './Routes'\r\n\r\nfunction App() {\r\n    return <Routes />\r\n}\r\n\r\nexport default App\r\n","import { ReportHandler } from 'web-vitals'\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n    if (onPerfEntry && onPerfEntry instanceof Function) {\r\n        import('web-vitals').then(\r\n            ({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n                getCLS(onPerfEntry)\r\n                getFID(onPerfEntry)\r\n                getFCP(onPerfEntry)\r\n                getLCP(onPerfEntry)\r\n                getTTFB(onPerfEntry)\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nexport default reportWebVitals\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport App from './App'\r\nimport reportWebVitals from './reportWebVitals'\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <App />\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n)\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals()\r\n"],"sourceRoot":""}