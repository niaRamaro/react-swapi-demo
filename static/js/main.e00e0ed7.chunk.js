(this["webpackJsonpreact-swapi-demo"]=this["webpackJsonpreact-swapi-demo"]||[]).push([[0],[,,,,,,,,,,function(e,t,c){e.exports={detail:"Details_detail__1Vz7Y"}},,,,function(e,t,c){e.exports={loader:"Loader_loader__2_zHp",loaderbox:"Loader_loaderbox__1bLge",loaderleft:"Loader_loaderleft__3T4Nd",loadercircle:"Loader_loadercircle__3rej7",leftAnim:"Loader_leftAnim__2u0Ux",loaderright:"Loader_loaderright__12BQo",rightAnim:"Loader_rightAnim__Naawf"}},function(e,t,c){e.exports={form:"Searchbar_form__36VcY",inputContainer:"Searchbar_inputContainer__23Lva",input:"Searchbar_input__21gH0",selectContainer:"Searchbar_selectContainer__2xCQp",select:"Searchbar_select__1FDzn"}},function(e,t,c){e.exports={info:"Info_info__SRroy",label:"Info_label__1aD83",icon:"Info_icon__2TzUB",value:"Info_value__IwHUr"}},,,,function(e,t,c){e.exports={main:"DetailPage_main__1Mdk5",buttonContainer:"DetailPage_buttonContainer__3qTJB",detail:"DetailPage_detail__2F12c"}},,,function(e,t,c){e.exports={buttonContainer:"RelationListIem_buttonContainer__3nlL3",button:"RelationListIem_button__1DgFb"}},function(e,t,c){e.exports={section:"Section_section__3uEif",sectionTitle:"Section_sectionTitle__-umLQ",sectionContent:"Section_sectionContent__3znS2"}},function(e,t,c){e.exports={main:"HomePage_main__ykO7e",searchbar:"HomePage_searchbar__uyFUV",results:"HomePage_results__1zI2S"}},,,,,,function(e,t,c){e.exports={results:"SearchResults_results__3t_yt",section:"SearchResults_section__3Jhxz"}},,,function(e,t,c){e.exports={button:"Button_button__3jbcX"}},function(e,t,c){e.exports={list:"Carousel_list__3vaey"}},function(e,t,c){e.exports={card:"Card_card__r-372"}},,,function(e,t,c){e.exports={listItem:"RessourceList_listItem__wzQMq"}},,,,,,,,function(e,t,c){},,,,,,,function(e,t,c){"use strict";c.r(t);var n,a,r=c(0),s=c(1),i=c.n(s),l=c(21),o=c.n(l),j=(c(47),c(12)),b=c(5),u=c(2);!function(e){e.FILMS="films",e.PEOPLE="people",e.PLANETS="planets",e.SPECIES="species",e.STARSHIPS="starships",e.VEHICLES="vehicles"}(a||(a={}));var O=(n={},Object(u.a)(n,a.FILMS,3),Object(u.a)(n,a.PEOPLE,3),Object(u.a)(n,a.PLANETS,2),Object(u.a)(n,a.SPECIES,3),Object(u.a)(n,a.STARSHIPS,2),Object(u.a)(n,a.VEHICLES,2),n),d=c(3),h=c.n(d),p=c(7),x=c(4),v=c(13),f=c(8),m=c(22),_=c(34),g=c.n(_);function S(e){var t=e.children,c=e.className,n=Object(m.a)(e,["children","className"]);return Object(r.jsx)("button",Object(f.a)(Object(f.a)({className:[c,g.a.button].join(" ")},n),{},{children:t}))}var y=c(14),E=c.n(y);function C(e){return Object(r.jsxs)("div",Object(f.a)(Object(f.a)({className:E.a.loader},e),{},{children:[Object(r.jsx)("aside",{className:[E.a.loaderbox,E.a.loaderleft].join(" "),children:Object(r.jsx)("span",{className:E.a.loadercircle})}),Object(r.jsx)("aside",{className:[E.a.loaderbox,E.a.loaderright].join(" "),children:Object(r.jsx)("span",{className:E.a.loadercircle})})]}))}function L(){return Object(r.jsx)("div",{style:{display:"flex",alignItems:"center",flex:1},children:Object(r.jsx)(C,{})})}function P(e){var t=e.icon,c=e.className;return Object(r.jsx)("span",{className:"material-icons ".concat(c),children:t})}var N=c(16),w=c.n(N);function I(e){var t=e.icon,c=e.label,n=e.value;return Object(r.jsxs)("div",{className:[w.a.vCentered,w.a.info].join(" "),children:[Object(r.jsx)("span",{className:w.a.labelContainer,children:Object(r.jsxs)("span",{className:w.a.label,children:[Object(r.jsx)(P,{icon:t,className:w.a.icon}),Object(r.jsxs)("span",{children:[c," : "]})]})}),Object(r.jsx)("span",{className:w.a.value,children:Object(r.jsx)("span",{children:n})})]})}function T(e){var t=e.film;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(I,{icon:"movie",label:"Title",value:t.title}),Object(r.jsx)(I,{icon:"format_list_numbered",label:"Episode",value:"".concat(t.episode_id)}),Object(r.jsx)(I,{icon:"today",label:"Release Date",value:t.release_date})]})}function F(e){var t=e.film;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(T,{film:t}),Object(r.jsx)(I,{icon:"face",label:"Director",value:t.director}),Object(r.jsx)(I,{icon:"face",label:"Producer",value:t.producer}),Object(r.jsx)(I,{icon:"article",label:"Opening Crawl",value:t.opening_crawl})]})}var R=c(35),k=c.n(R);function H(e){var t=e.itemsPerRow,c=void 0===t?3:t,n=e.items,a=e.render,i=Object(s.useState)(0),l=Object(x.a)(i,2),o=l[0],j=l[1],b=Object(s.useState)([]),u=Object(x.a)(b,2),O=u[0],d=u[1];return Object(s.useEffect)((function(){d(n.slice(o,o+c))}),[o]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(S,{onClick:function(e){return j(o-c)},disabled:0===o,children:Object(r.jsx)(P,{icon:"chevron_left"})}),Object(r.jsx)("div",{className:k.a.list,children:a(O)}),Object(r.jsx)(S,{onClick:function(e){return j(o+c)},disabled:o+c>=n.length,children:Object(r.jsx)(P,{icon:"chevron_right"})})]})}function M(e){var t=e.children,c=e.mount,n=void 0===c?document.getElementById("portal-root"):c,a=document.createElement("div");return Object(s.useEffect)((function(){if(n)return n.appendChild(a),function(){n.removeChild(a)}}),[a,n]),Object(l.createPortal)(t,a)}var A=c(36),D=c.n(A);function V(e){var t=e.children,c=e.className,n=Object(m.a)(e,["children","className"]);return Object(r.jsx)("div",Object(f.a)(Object(f.a)({className:[c,D.a.card].join(" ")},n),{},{children:t}))}var U,B=c(23),z=c.n(B);function W(e){var t=e.itemStyle,c=e.relation,n=e.search,a=e.type,s=e.hideTooltip,i=e.renderRelation,l=e.showTooltip;return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(V,{style:t,children:[i(c),Object(r.jsxs)("div",{className:z.a.buttonContainer,children:[Object(r.jsx)(S,{className:z.a.button,onMouseOver:function(e){var t=e.target;return l(t,c)},onMouseOut:s,children:"Show More"}),Object(r.jsx)(j.b,{to:{pathname:"/".concat(a,"/").concat(c.id),search:n},children:Object(r.jsx)(S,{className:z.a.button,children:"Go to full detail"})})]})]})})}function G(e){var t=e.children,c=e.coords;return Object(r.jsx)(v.b.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:[-10,0]},exit:{y:-750},style:Object(f.a)({position:"absolute"},c),children:Object(r.jsx)(V,{children:t})})}function J(e){var t=e.person;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(I,{icon:"face",label:"Name",value:t.name}),Object(r.jsx)(I,{icon:"wc",label:"Gender",value:t.gender}),Object(r.jsx)(I,{icon:"event",label:"Birth Year",value:t.birth_year})]})}function K(e){var t=e.person;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(J,{person:t}),Object(r.jsx)(I,{icon:"palette",label:"Skin Color",value:t.skin_color}),Object(r.jsx)(I,{icon:"palette",label:"Eye Color",value:t.eye_color}),Object(r.jsx)(I,{icon:"palette",label:"Hair Color",value:t.hair_color}),Object(r.jsx)(I,{icon:"adjust",label:"Mass",value:t.mass}),Object(r.jsx)(I,{icon:"height",label:"Height",value:t.height})]})}function Q(e){var t=e.planet;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(I,{icon:"public",label:"Name",value:t.name}),Object(r.jsx)(I,{icon:"groups",label:"Population",value:t.population}),Object(r.jsx)(I,{icon:"wb_sunny",label:"Climate",value:t.climate}),Object(r.jsx)(I,{icon:"terrain",label:"Terrain",value:t.terrain})]})}function Y(e){var t=e.planet;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Q,{planet:t})," ",Object(r.jsx)(I,{icon:"not_interested",label:"Diameter",value:t.diameter}),Object(r.jsx)(I,{icon:"360",label:"Rotation Period",value:t.rotation_period}),Object(r.jsx)(I,{icon:"settings_backup_restore",label:"Orbital Period",value:t.orbital_period}),Object(r.jsx)(I,{icon:"arrow_downward",label:"Gravity",value:t.gravity}),Object(r.jsx)(I,{icon:"waves",label:"Surface Water",value:t.surface_water})]})}function q(e){var t=e.species;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(I,{icon:"people",label:"Name",value:t.name}),Object(r.jsx)(I,{icon:"category",label:"Classification",value:t.classification}),Object(r.jsx)(I,{icon:"psychology",label:"Designation",value:t.designation})]})}function X(e){var t=e.species;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(q,{species:t}),Object(r.jsx)(I,{icon:"height",label:"Average Height",value:t.average_height}),Object(r.jsx)(I,{icon:"elderly",label:"Average Lifespan",value:t.average_lifespan}),Object(r.jsx)(I,{icon:"palette",label:"Eye Colors",value:t.eye_colors}),Object(r.jsx)(I,{icon:"palette",label:"Hair Colors",value:t.hair_colors}),Object(r.jsx)(I,{icon:"palette",label:"Skin Colors",value:t.skin_colors}),Object(r.jsx)(I,{icon:"record_voice_over",label:"Language",value:t.language})]})}function Z(e){var t=e.starship;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(I,{icon:"airplanemode_active",label:"Name",value:t.name}),Object(r.jsx)(I,{icon:"scatter_plot",label:"Model",value:t.model}),Object(r.jsx)(I,{icon:"category",label:"Starship Class",value:t.starship_class}),Object(r.jsx)(I,{icon:"corporate_fare",label:"Manufacturer",value:t.manufacturer})]})}function $(e){var t=e.starship;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Z,{starship:t}),Object(r.jsx)(I,{icon:"credit_card",label:"Cost In Credits",value:t.cost_in_credits}),Object(r.jsx)(I,{icon:"straighten",label:"Length",value:t.length}),Object(r.jsx)(I,{icon:"groups",label:"Crew",value:t.crew}),Object(r.jsx)(I,{icon:"reduce_capacity",label:"Passengers",value:t.passengers}),Object(r.jsx)(I,{icon:"speed",label:"Max Atmosphering Speed",value:t.max_atmosphering_speed}),Object(r.jsx)(I,{icon:"star",label:"Hyperdrive Rating",value:t.hyperdrive_rating}),Object(r.jsx)(I,{icon:"flash_on",label:"MGLT",value:t.MGLT}),Object(r.jsx)(I,{icon:"luggage",label:"Cargo Capacity",value:t.cargo_capacity})]})}function ee(e){var t=e.vehicle;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(I,{icon:"directions_car",label:"Name",value:t.name}),Object(r.jsx)(I,{icon:"scatter_plot",label:"Model",value:t.model}),Object(r.jsx)(I,{icon:"category",label:"Vehicle Class",value:t.vehicle_class}),Object(r.jsx)(I,{icon:"corporate_fare",label:"Manufacturer",value:t.manufacturer})]})}function te(e){var t=e.vehicle;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ee,{vehicle:t}),Object(r.jsx)(I,{icon:"straighten",label:"Length",value:t.length}),Object(r.jsx)(I,{icon:"credit_card",label:"Cost In Credits",value:t.cost_in_credits}),Object(r.jsx)(I,{icon:"groups",label:"Crew",value:t.crew}),Object(r.jsx)(I,{icon:"reduce_capacity",label:"Passengers",value:t.passengers}),Object(r.jsx)(I,{icon:"speed",label:"Max Atmosphering Speed",value:t.max_atmosphering_speed}),Object(r.jsx)(I,{icon:"luggage",label:"Capacity",value:t.cargo_capacity}),Object(r.jsx)(I,{icon:"opacity",label:"Consumables",value:t.consumables})]})}var ce=(U={},Object(u.a)(U,a.FILMS,(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?Object(r.jsx)(F,{film:e}):Object(r.jsx)(T,{film:e})})),Object(u.a)(U,a.PEOPLE,(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?Object(r.jsx)(K,{person:e}):Object(r.jsx)(J,{person:e})})),Object(u.a)(U,a.PLANETS,(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?Object(r.jsx)(Y,{planet:e}):Object(r.jsx)(Q,{planet:e})})),Object(u.a)(U,a.SPECIES,(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?Object(r.jsx)(X,{species:e}):Object(r.jsx)(q,{species:e})})),Object(u.a)(U,a.STARSHIPS,(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?Object(r.jsx)($,{starship:e}):Object(r.jsx)(Z,{starship:e})})),Object(u.a)(U,a.VEHICLES,(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?Object(r.jsx)(te,{vehicle:e}):Object(r.jsx)(ee,{vehicle:e})})),U);function ne(e){var t=e.type,c=e.relations,n=Object(s.useState)({}),a=Object(x.a)(n,2),i=a[0],l=a[1],o=ce[t],j=Object(b.h)().search,u=O[t],d=Object(s.useState)(),h=Object(x.a)(d,2),p=h[0],f=h[1],m=Object(s.useState)(!1),_=Object(x.a)(m,2),g=_[0],S=_[1],y=Object(s.useState)(),E=Object(x.a)(y,2),C=E[0],L=E[1],P=Object(s.useRef)(),N=function(e,t){S(!0),f(t);var c=e.getBoundingClientRect();L({left:c.x,bottom:window.innerHeight-(c.y+window.scrollY-15)})};return Object(s.useEffect)((function(){l(function(){var e=(100-1*u*2)/u;return{margin:"".concat(1,"%"),width:"".concat(e,"%")}}())}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{style:{display:"flex"},children:Object(r.jsx)(H,{items:c,itemsPerRow:u,render:function(e){return Object(r.jsx)(r.Fragment,{children:e.map((function(e,c){return Object(r.jsx)(W,{itemStyle:i,relation:e,search:j,hideTooltip:function(){return S(!1)},showTooltip:N,renderRelation:o,type:t},c)}))})}})}),Object(r.jsx)("div",{ref:P,id:"portal-root"}),Object(r.jsx)(v.a,{children:g&&Object(r.jsx)(M,{mount:P.current,children:Object(r.jsx)(G,{coords:C,children:o(p,!0)})})})]})}var ae=c(24),re=c.n(ae);function se(e){var t=e.title,c=e.children,n=e.className;return Object(r.jsxs)("div",{className:[re.a.section,n].join(" "),children:[Object(r.jsx)("h4",{className:re.a.sectionTitle,children:t}),Object(r.jsx)("div",{className:re.a.sectionContent,children:c})]})}var ie=c(10),le=c.n(ie);function oe(e){var t=e.film;return Object(r.jsxs)("div",{className:le.a.detail,children:[Object(r.jsx)(se,{title:"FILM",children:Object(r.jsx)(F,{film:t})}),!!t.characters.length&&Object(r.jsx)(se,{title:"CHARACTERS (".concat(t.characters.length,")"),children:Object(r.jsx)(ne,{type:a.PEOPLE,relations:t.characters})}),!!t.planets.length&&Object(r.jsx)(se,{title:"PLANETS (".concat(t.planets.length,")"),children:Object(r.jsx)(ne,{type:a.PLANETS,relations:t.planets})}),!!t.starships.length&&Object(r.jsx)(se,{title:"STARSHIPS (".concat(t.starships.length,")"),children:Object(r.jsx)(ne,{type:a.STARSHIPS,relations:t.starships})}),!!t.vehicles.length&&Object(r.jsx)(se,{title:"VEHICLES (".concat(t.vehicles.length,")"),children:Object(r.jsx)(ne,{type:a.VEHICLES,relations:t.vehicles})}),!!t.species.length&&Object(r.jsx)(se,{title:"SPECIES (".concat(t.species.length,")"),children:Object(r.jsx)(ne,{type:a.SPECIES,relations:t.species})})]})}function je(e){var t=e.person;return Object(r.jsxs)("div",{className:le.a.detail,children:[Object(r.jsx)(se,{title:"PERSON",children:Object(r.jsx)(K,{person:t})}),!!t.films.length&&Object(r.jsx)(se,{title:"FILMS (".concat(t.films.length,")"),children:Object(r.jsx)(ne,{type:a.FILMS,relations:t.films})}),!!t.homeworld&&Object(r.jsx)(se,{title:"HOMEWORLD",children:Object(r.jsx)(Q,{planet:t.homeworld})}),!!t.species.length&&Object(r.jsx)(se,{title:"SPECIES (".concat(t.species.length,")"),children:Object(r.jsx)(ne,{type:a.SPECIES,relations:t.species})}),!!t.starships.length&&Object(r.jsx)(se,{title:"STARSHIPS (".concat(t.starships.length,")"),children:Object(r.jsx)(ne,{type:a.STARSHIPS,relations:t.starships})}),!!t.vehicles.length&&Object(r.jsx)(se,{title:"VEHICLES (".concat(t.vehicles.length,")"),children:Object(r.jsx)(ne,{type:a.VEHICLES,relations:t.vehicles})})]})}function be(e){var t=e.planet;return Object(r.jsxs)("div",{className:le.a.detail,children:[Object(r.jsx)(se,{title:"PLANET",children:Object(r.jsx)(Y,{planet:t})}),!!t.residents.length&&Object(r.jsx)(se,{title:"RESIDENTS (".concat(t.residents.length,")"),children:Object(r.jsx)(ne,{type:a.PEOPLE,relations:t.residents})}),!!t.films.length&&Object(r.jsx)(se,{title:"FILMS (".concat(t.films.length,")"),children:Object(r.jsx)(ne,{type:a.FILMS,relations:t.films})})]})}function ue(e){var t=e.species;return Object(r.jsxs)("div",{className:le.a.detail,children:[Object(r.jsx)(se,{title:"SPECIES",children:Object(r.jsx)(X,{species:t})}),!!t.homeworld&&Object(r.jsx)(se,{title:"HOMEWORLD",children:Object(r.jsx)(Q,{planet:t.homeworld})}),!!t.people.length&&Object(r.jsx)(se,{title:"PEOPLE (".concat(t.people.length,")"),children:Object(r.jsx)(ne,{type:a.PEOPLE,relations:t.people})}),!!t.films.length&&Object(r.jsx)(se,{title:"FILMS (".concat(t.films.length,")"),children:Object(r.jsx)(ne,{type:a.FILMS,relations:t.films})})]})}function Oe(e){var t=e.starship;return Object(r.jsxs)("div",{className:le.a.detail,children:[Object(r.jsx)(se,{title:"STARSHIP",children:Object(r.jsx)($,{starship:t})}),!!t.pilots.length&&Object(r.jsx)(se,{title:"PILOTS (".concat(t.pilots.length,")"),children:Object(r.jsx)(ne,{type:a.PEOPLE,relations:t.pilots})}),!!t.films.length&&Object(r.jsx)(se,{title:"FILMS (".concat(t.films.length,")"),children:Object(r.jsx)(ne,{type:a.FILMS,relations:t.films})})]})}function de(e){var t=e.vehicle;return Object(r.jsxs)("div",{className:le.a.detail,children:[Object(r.jsx)(se,{title:"VEHICLE",children:Object(r.jsx)(te,{vehicle:t})}),!!t.pilots.length&&Object(r.jsx)(se,{title:"PILOTS (".concat(t.pilots.length,")"),children:Object(r.jsx)(ne,{type:a.PEOPLE,relations:t.pilots})}),!!t.films.length&&Object(r.jsx)(se,{title:"FILMS (".concat(t.films.length,")"),children:Object(r.jsx)(ne,{type:a.FILMS,relations:t.films})})]})}var he=c(20),pe=c.n(he);console.log(Object({NODE_ENV:"production",PUBLIC_URL:"/react-swapi-demo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_URL_API:"https://hapi-swapi.herokuapp.com"}));var xe,ve="https://hapi-swapi.herokuapp.com";function fe(e,t){return me.apply(this,arguments)}function me(){return(me=Object(p.a)(h.a.mark((function e(t,c){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new URLSearchParams(t).toString(),e.t0=Se,e.next=4,fetch("".concat(ve,"?").concat(n),{signal:c});case 4:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _e(e,t){return ge.apply(this,arguments)}function ge(){return(ge=Object(p.a)(h.a.mark((function e(t,c){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Se,e.next=3,fetch("".concat(ve,"/").concat(t,"/").concat(c));case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Se(e){return ye.apply(this,arguments)}function ye(){return(ye=Object(p.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t.status,e.next=3,t.json();case 3:return e.t1=e.sent,e.abrupt("return",{status:e.t0,body:e.t1});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ee=(xe={},Object(u.a)(xe,a.FILMS,(function(e){return Object(r.jsx)(oe,{film:e})})),Object(u.a)(xe,a.PEOPLE,(function(e){return Object(r.jsx)(je,{person:e})})),Object(u.a)(xe,a.PLANETS,(function(e){return Object(r.jsx)(be,{planet:e})})),Object(u.a)(xe,a.SPECIES,(function(e){return Object(r.jsx)(ue,{species:e})})),Object(u.a)(xe,a.STARSHIPS,(function(e){return Object(r.jsx)(Oe,{starship:e})})),Object(u.a)(xe,a.VEHICLES,(function(e){return Object(r.jsx)(de,{vehicle:e})})),xe);function Ce(){var e=Object(b.i)(),t=e.type,c=e.id,n=Object(b.h)().search,a=Object(b.g)(),i=Object(s.useState)(!0),l=Object(x.a)(i,2),o=l[0],u=l[1],O=Object(s.useState)(),d=Object(x.a)(O,2),f=d[0],m=d[1],_=Object(s.useState)(!1),g=Object(x.a)(_,2),y=g[0],E=g[1];Object(s.useEffect)((function(){(function(){var e=Object(p.a)(h.a.mark((function e(){var n,a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_e(t,+c);case 3:n=e.sent,a=n.body,r=n.status,document.title="".concat(t.toUpperCase()," - ").concat((null===a||void 0===a?void 0:a.name)||(null===a||void 0===a?void 0:a.title)),m(a),E(200!==r),u(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),E(!0),u(!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}})()()}),[t,c]),Object(s.useEffect)((function(){var e=a.listen((function(){return u(!0)}));return function(){return e()}}),[]);return Object(r.jsxs)("div",{className:pe.a.main,children:[Object(r.jsx)("div",{className:pe.a.buttonContainer,children:Object(r.jsx)(j.b,{to:{pathname:"/",search:n},children:Object(r.jsxs)(S,{className:pe.a.button,children:[Object(r.jsx)(P,{icon:"keyboard_backspace"}),Object(r.jsx)("span",{children:"Back to search"})]})})}),Object(r.jsx)("div",{className:pe.a.detail,children:o?Object(r.jsx)(L,{}):y?Object(r.jsx)("h1",{children:"Error"}):f?Object(r.jsx)(v.b.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:Ee[t](f)}):void 0})]})}var Le=c(57),Pe=c(58),Ne=c(6),we=c(38),Ie=c.n(we),Te=c(39),Fe=c.n(Te);function Re(e){var t=e.type,c=e.results,n=e.onLoadMore,a=Object(b.h)().search;return Object(r.jsx)(Ie.a,{loadMore:function(){return n(t,c.next)},hasMore:!!c.next,loader:Object(r.jsx)(C,{style:{margin:"1em auto"}},t),useWindow:!1,children:c.results.map((function(e,c){return Object(r.jsx)("div",{className:Fe.a.listItem,children:Object(r.jsx)(j.b,{to:{pathname:"/".concat(t,"/").concat(e.id),search:a},children:Object(r.jsx)("div",{children:e.name})})},c)}))})}var ke=c(31),He=c.n(ke);function Me(e){var t=e.type,c=e.keyword,n=e.className,a=Object(s.useState)(!0),i=Object(x.a)(a,2),l=i[0],o=i[1],j=Object(s.useState)(!1),O=Object(x.a)(j,2),d=O[0],m=O[1],_=Object(s.useState)({}),g=Object(x.a)(_,2),S=g[0],y=g[1],E=Object(s.useState)(),C=Object(x.a)(E,2),P=C[0],N=C[1],w=Object(b.g)(),I=Object(b.h)(),T=function(){var e=Object(p.a)(h.a.mark((function e(t,n){var a,r,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fe({type:t,keyword:c,page:"".concat(n)});case 3:a=e.sent,r=a.body,200===a.status&&(s=r[t],y((function(e){return Object(f.a)(Object(f.a)({},e),{},Object(u.a)({},t,Object(f.a)(Object(f.a)({},e[t]),{},{next:s.next,results:[].concat(Object(Ne.a)(e[t].results),Object(Ne.a)(s.results))})))}))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("Load next page failed",t,n);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,c){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){var e=function(){var e=Object(p.a)(h.a.mark((function e(){var n,a,r,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),P&&P.abort(),n=new AbortController,N(n),e.prev=4,e.next=7,fe({type:t,keyword:c},n.signal);case 7:a=e.sent,r=a.body,s=a.status,N(null),y(r),m(200!==s),o(!1),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(4),N(null),"AbortError"!==e.t0.name&&(m(!0),o(!1));case 20:case"end":return e.stop()}}),e,null,[[4,16]])})));return function(){return e.apply(this,arguments)}}();w.push({pathname:I.pathname,search:new URLSearchParams({type:t||"",keyword:c||""}).toString()}),e()}),[c,t]);return Object(r.jsx)("div",{className:n,children:l?Object(r.jsx)(L,{}):d?Object(r.jsx)("p",{children:"Error"}):Object(r.jsx)(v.b.div,{initial:{y:100,opacity:0},animate:{y:[10,0],opacity:1},className:He.a.results,children:Object.keys(S).map((function(e){return S[e]&&Object(r.jsx)(se,{title:"".concat(e.toUpperCase()," (").concat(S[e].count,")"),className:He.a.section,children:Object(r.jsx)(Re,{type:e,results:S[e],onLoadMore:T})},e)}))})})}var Ae=c(41),De=c(15),Ve=c.n(De);function Ue(e){var t=e.initialValue,c=e.onChange,n=e.className,s=[""].concat(Object.values(a)),i=Object(Ae.a)({defaultValues:t}),l=i.register,o=i.handleSubmit,j=i.getValues;return Object(r.jsxs)("form",{className:[n,Ve.a.form].join(" "),onSubmit:o(c),children:[Object(r.jsx)("div",{className:[Ve.a.commonContainer,Ve.a.inputContainer].join(""),children:Object(r.jsx)("input",{className:Ve.a.input,type:"text",name:"keyword",placeholder:"Enter your search here",ref:l,onKeyUp:function(e){return c(j())}})}),Object(r.jsx)("div",{className:[Ve.a.commonContainer,Ve.a.selectContainer].join(" "),children:Object(r.jsx)("select",{className:Ve.a.select,name:"type",ref:l,onChange:function(e){return c(j())},children:s.map((function(e){return Object(r.jsx)("option",{value:e,children:e.toUpperCase()},e)}))})})]})}var Be=c(25),ze=c.n(Be);function We(){Object(Le.a)("Empire Search");var e=function(e){var t=Object(b.h)(),c=new URLSearchParams(t.search);return e.reduce((function(e,t){return e[t]=c.get(t)||"",e}),{})}(["type","keyword"]),t=Object(s.useState)(function(e){return Object.values(a).includes(e)?e:""}(e.type)),c=Object(x.a)(t,2),n=c[0],i=c[1],l=Object(s.useState)(e.keyword),o=Object(x.a)(l,2),j=o[0],u=o[1],O=Object(Pe.a)(j,{wait:500}),d=Object(s.useState)(!0),h=Object(x.a)(d,2),p=h[0],v=h[1];return Object(r.jsxs)("div",{className:ze.a.main,children:[Object(r.jsx)(Ue,{className:ze.a.searchbar,initialValue:{keyword:j,type:n},onChange:function(e){var t=e.type,c=e.keyword;u(c),i(t),v(!0)}}),p&&Object(r.jsx)(Me,{type:n,keyword:O,className:ze.a.results})]})}function Ge(){return Object(r.jsx)(j.a,{children:Object(r.jsxs)(b.d,{children:[Object(r.jsx)(b.b,{path:"/:type/:id",render:function(e){var t=e.match.params.type;return Object.values(a).includes(t)?Object(r.jsx)(Ce,{}):Object(r.jsx)(b.a,{to:"/"})}}),Object(r.jsx)(b.b,{path:"/",children:Object(r.jsx)(We,{})})]})})}var Je=function(){return Object(r.jsx)(Ge,{})},Ke=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,59)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))};o.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(Je,{})}),document.getElementById("root")),Ke()}],[[54,1,2]]]);
//# sourceMappingURL=main.e00e0ed7.chunk.js.map