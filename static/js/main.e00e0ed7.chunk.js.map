{"version":3,"sources":["components/details/Details.module.scss","components/shared/Loader.module.scss","components/Searchbar.module.scss","components/shared/Info.module.scss","pages/DetailPage.module.scss","components/details/RelationListIem.module.scss","components/shared/Section.module.scss","pages/HomePage.module.scss","components/SearchResults.module.scss","components/shared/Button.module.scss","components/shared/Carousel.module.scss","components/shared/Card.module.scss","components/RessourceList.module.scss","constants/search.ts","components/shared/Button.tsx","components/shared/Loader.tsx","components/shared/CenteredLoader.tsx","components/shared/MaterialIcon.tsx","components/shared/Info.tsx","components/details/infos/ShortFilmInfos.tsx","components/details/infos/FullFilmInfos.tsx","components/shared/Carousel.tsx","components/shared/Portal.tsx","components/shared/Card.tsx","components/details/RelationListIem.tsx","components/shared/Tooltip.tsx","components/details/infos/ShortPersonInfos.tsx","components/details/infos/FullPersonInfos.tsx","components/details/infos/ShortPlanetInfos.tsx","components/details/infos/FullPlanetInfos.tsx","components/details/infos/ShortSpeciesInfos.tsx","components/details/infos/FullSpeciesInfos.tsx","components/details/infos/ShortStarshipInfos.tsx","components/details/infos/FullStarshipInfos.tsx","components/details/infos/ShortVehicleInfos.tsx","components/details/infos/FullVehicleInfos.tsx","constants/config.tsx","components/details/RelationsList.tsx","components/shared/Section.tsx","components/details/FilmDetail.tsx","components/details/PersonDetail.tsx","components/details/PlanetDetail.tsx","components/details/SpeciesDetail.tsx","components/details/StarshipDetail.tsx","components/details/VehicleDetail.tsx","service/api.ts","pages/DetailPage.tsx","components/RessourceList.tsx","components/SearchResults.tsx","components/Searchbar.tsx","pages/HomePage.tsx","hooks/useQueryParams.ts","Routes.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["module","exports","RESSOURCES","RELATION_ITEM_PER_ROW","FILMS","PEOPLE","PLANETS","SPECIES","STARSHIPS","VEHICLES","Button","children","className","rest","styles","button","join","Loader","props","loader","loaderbox","loaderleft","loadercircle","loaderright","CenteredLoader","style","display","alignItems","flex","MaterialIcon","icon","Info","label","value","vCentered","info","labelContainer","ShortFilmInfos","film","title","episode_id","release_date","FullFilmInfos","director","producer","opening_crawl","Carousel","itemsPerRow","items","render","useState","start","setStart","displayedItems","setDisplayedItems","useEffect","slice","onClick","_","disabled","list","length","Portal","mount","document","getElementById","el","createElement","appendChild","removeChild","createPortal","Card","card","RelationListItem","itemStyle","relation","search","type","hideTooltip","renderRelation","showTooltip","buttonContainer","onMouseOver","target","onMouseOut","to","pathname","id","Tooltip","coords","div","initial","opacity","y","animate","exit","position","ShortPersonInfos","person","name","gender","birth_year","FullPersonInfos","skin_color","eye_color","hair_color","mass","height","ShortPlanetInfos","planet","population","climate","terrain","FullPlanetInfos","diameter","rotation_period","orbital_period","gravity","surface_water","ShortSpeciesInfos","species","classification","designation","FullSpeciesInfos","average_height","average_lifespan","eye_colors","hair_colors","skin_colors","language","ShortStarshipInfos","starship","model","starship_class","manufacturer","FullStarshipInfos","cost_in_credits","crew","passengers","max_atmosphering_speed","hyperdrive_rating","MGLT","cargo_capacity","ShortVehicleInfos","vehicle","vehicle_class","FullVehicleInfos","consumables","RESSOURCE_COMPONENT_CONFIGS","showFull","RelationsList","relations","setItemStyle","useLocation","selectedRelation","setSelectedRelation","isTooltipOpen","setIsTooltipOpen","tooltipCoordinates","setTooltipCoordinates","portalMount","useRef","hoveredButton","rect","getBoundingClientRect","left","x","bottom","window","innerHeight","scrollY","width","margin","getItemStyle","displayedRelations","map","index","ref","current","Section","section","sectionTitle","sectionContent","FilmDetail","detail","characters","planets","starships","vehicles","PersonDetail","films","homeworld","PlanetDetail","residents","SpeciesDetail","people","StarshipDetail","pilots","VehicleDetail","console","log","process","BASE_URL","searchAPI","params","signal","a","queryString","URLSearchParams","toString","formatFetchResponse","fetch","getDetailAPI","response","status","json","body","detailMap","DetailPage","useParams","history","useHistory","loading","setLoading","data","setData","error","setError","toUpperCase","getDetail","unlisten","listen","main","transition","duration","RessourceList","results","onLoadMore","loadMore","next","hasMore","useWindow","result","listItem","SearchResults","keyword","isLoading","setIsLoading","hasError","setHasError","setResults","pendingRequest","setPendingRequest","location","loadNextPage","page","ressourceResults","prevResults","fetchResults","abort","controller","AbortController","push","Object","keys","ressourceType","count","Searchbar","initialValue","onChange","types","concat","values","useForm","defaultValues","register","handleSubmit","getValues","form","onSubmit","commonContainer","inputContainer","input","placeholder","onKeyUp","selectContainer","select","Homepage","useTitle","queryParams","reduce","paramsMap","key","get","useQueryParams","includes","getType","setType","setKeyword","throttledKeyword","useThrottle","wait","showResults","setShowResults","searchbar","Routes","path","match","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.e00e0ed7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"detail\":\"Details_detail__1Vz7Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__2_zHp\",\"loaderbox\":\"Loader_loaderbox__1bLge\",\"loaderleft\":\"Loader_loaderleft__3T4Nd\",\"loadercircle\":\"Loader_loadercircle__3rej7\",\"leftAnim\":\"Loader_leftAnim__2u0Ux\",\"loaderright\":\"Loader_loaderright__12BQo\",\"rightAnim\":\"Loader_rightAnim__Naawf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Searchbar_form__36VcY\",\"inputContainer\":\"Searchbar_inputContainer__23Lva\",\"input\":\"Searchbar_input__21gH0\",\"selectContainer\":\"Searchbar_selectContainer__2xCQp\",\"select\":\"Searchbar_select__1FDzn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"info\":\"Info_info__SRroy\",\"label\":\"Info_label__1aD83\",\"icon\":\"Info_icon__2TzUB\",\"value\":\"Info_value__IwHUr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"DetailPage_main__1Mdk5\",\"buttonContainer\":\"DetailPage_buttonContainer__3qTJB\",\"detail\":\"DetailPage_detail__2F12c\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttonContainer\":\"RelationListIem_buttonContainer__3nlL3\",\"button\":\"RelationListIem_button__1DgFb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"Section_section__3uEif\",\"sectionTitle\":\"Section_sectionTitle__-umLQ\",\"sectionContent\":\"Section_sectionContent__3znS2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"HomePage_main__ykO7e\",\"searchbar\":\"HomePage_searchbar__uyFUV\",\"results\":\"HomePage_results__1zI2S\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"results\":\"SearchResults_results__3t_yt\",\"section\":\"SearchResults_section__3Jhxz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3jbcX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"Carousel_list__3vaey\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__r-372\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"listItem\":\"RessourceList_listItem__wzQMq\"};","export enum RESSOURCES {\r\n    FILMS = 'films',\r\n    PEOPLE = 'people',\r\n    PLANETS = 'planets',\r\n    SPECIES = 'species',\r\n    STARSHIPS = 'starships',\r\n    VEHICLES = 'vehicles'\r\n}\r\n\r\nexport const RELATION_ITEM_PER_ROW = {\r\n    [RESSOURCES.FILMS]: 3,\r\n    [RESSOURCES.PEOPLE]: 3,\r\n    [RESSOURCES.PLANETS]: 2,\r\n    [RESSOURCES.SPECIES]: 3,\r\n    [RESSOURCES.STARSHIPS]: 2,\r\n    [RESSOURCES.VEHICLES]: 2\r\n}\r\n","import React from 'react'\r\n\r\nimport styles from './Button.module.scss'\r\n\r\ntype Props = React.DetailedHTMLProps<\r\n    React.ButtonHTMLAttributes<HTMLButtonElement>,\r\n    HTMLButtonElement\r\n>\r\n\r\nexport default function Button({ children, className, ...rest }: Props) {\r\n    return (\r\n        <button className={[className, styles.button].join(' ')} {...rest}>\r\n            {children}\r\n        </button>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport styles from './Loader.module.scss'\r\n\r\nexport default function Loader(\r\n    props: React.DetailedHTMLProps<\r\n        React.HTMLAttributes<HTMLDivElement>,\r\n        HTMLDivElement\r\n    >\r\n) {\r\n    return (\r\n        <div className={styles.loader} {...props}>\r\n            <aside className={[styles.loaderbox, styles.loaderleft].join(' ')}>\r\n                <span className={styles.loadercircle}></span>\r\n            </aside>\r\n            <aside className={[styles.loaderbox, styles.loaderright].join(' ')}>\r\n                <span className={styles.loadercircle}></span>\r\n            </aside>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport Loader from './Loader'\r\n\r\nexport default function CenteredLoader() {\r\n    return (\r\n        <div\r\n            style={{\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                flex: 1\r\n            }}\r\n        >\r\n            <Loader />\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\ntype Props = React.DetailedHTMLProps<\r\n    React.HTMLAttributes<HTMLSpanElement>,\r\n    HTMLSpanElement\r\n> & { icon: string }\r\n\r\nexport default function MaterialIcon({ icon, className }: Props) {\r\n    return <span className={`material-icons ${className}`}>{icon}</span>\r\n}\r\n","import React from 'react'\r\n\r\nimport MaterialIcon from './MaterialIcon'\r\nimport styles from './Info.module.scss'\r\n\r\ntype Props = {\r\n    icon: string\r\n    label: string\r\n    value: string\r\n}\r\n\r\nexport default function Info({ icon, label, value }: Props) {\r\n    return (\r\n        <div className={[styles.vCentered, styles.info].join(' ')}>\r\n            <span className={styles.labelContainer}>\r\n                <span className={styles.label}>\r\n                    <MaterialIcon icon={icon} className={styles.icon} />\r\n                    <span>{label} : </span>\r\n                </span>\r\n            </span>\r\n            <span className={styles.value}>\r\n                <span>{value}</span>\r\n            </span>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport Info from '../../shared/Info'\r\nimport { FilmInfos } from '../../../types/film'\r\n\r\ntype Props = {\r\n    film: FilmInfos\r\n}\r\n\r\nexport default function ShortFilmInfos({ film }: Props) {\r\n    return (\r\n        <>\r\n            <Info icon=\"movie\" label=\"Title\" value={film.title} />\r\n            <Info\r\n                icon=\"format_list_numbered\"\r\n                label=\"Episode\"\r\n                value={`${film.episode_id}`}\r\n            />\r\n            <Info icon=\"today\" label=\"Release Date\" value={film.release_date} />\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport Info from '../../shared/Info'\r\nimport ShortFilmInfos from './ShortFilmInfos'\r\nimport { FilmInfos } from '../../../types/film'\r\n\r\ntype Props = {\r\n    film: FilmInfos\r\n}\r\n\r\nexport default function FullFilmInfos({ film }: Props) {\r\n    return (\r\n        <>\r\n            <ShortFilmInfos film={film} />\r\n            <Info icon=\"face\" label=\"Director\" value={film.director} />\r\n            <Info icon=\"face\" label=\"Producer\" value={film.producer} />\r\n            <Info\r\n                icon=\"article\"\r\n                label=\"Opening Crawl\"\r\n                value={film.opening_crawl}\r\n            />\r\n        </>\r\n    )\r\n}\r\n","import React, { ReactNode, useEffect, useState } from 'react'\r\n\r\nimport Button from './Button'\r\nimport MaterialIcon from './MaterialIcon'\r\nimport { SwapiInfos } from '../../types/search'\r\n\r\nimport styles from './Carousel.module.scss'\r\n\r\ntype Props = {\r\n    itemsPerRow?: number\r\n    items: any[]\r\n    render: (items: any) => ReactNode\r\n}\r\n\r\nexport default function Carousel({ itemsPerRow = 3, items, render }: Props) {\r\n    const [start, setStart] = useState(0)\r\n    const [displayedItems, setDisplayedItems] = useState<SwapiInfos[]>([])\r\n\r\n    useEffect(() => {\r\n        const getDisplayedItems = () => items.slice(start, start + itemsPerRow)\r\n        setDisplayedItems(getDisplayedItems())\r\n    }, [start])\r\n\r\n    return (\r\n        <>\r\n            <Button\r\n                onClick={(_) => setStart(start - itemsPerRow)}\r\n                disabled={start === 0}\r\n            >\r\n                <MaterialIcon icon=\"chevron_left\" />\r\n            </Button>\r\n\r\n            <div className={styles.list}>{render(displayedItems)}</div>\r\n\r\n            <Button\r\n                onClick={(_) => setStart(start + itemsPerRow)}\r\n                disabled={start + itemsPerRow >= items.length}\r\n            >\r\n                <MaterialIcon icon=\"chevron_right\" />\r\n            </Button>\r\n        </>\r\n    )\r\n}\r\n","import { ReactNode, useEffect } from 'react'\r\nimport { createPortal } from 'react-dom'\r\n\r\ntype Props = {\r\n    mount?: HTMLElement\r\n    children: ReactNode\r\n}\r\n\r\nexport default function Portal({\r\n    children,\r\n    mount = document.getElementById('portal-root') as HTMLElement\r\n}: Props) {\r\n    const el = document.createElement('div')\r\n\r\n    useEffect(() => {\r\n        if (mount) {\r\n            mount.appendChild(el)\r\n\r\n            return () => {\r\n                mount.removeChild(el)\r\n            }\r\n        }\r\n    }, [el, mount])\r\n\r\n    return createPortal(children, el)\r\n}\r\n","import React from 'react'\r\n\r\nimport styles from './Card.module.scss'\r\n\r\ntype Props = React.DetailedHTMLProps<\r\n    React.HTMLAttributes<HTMLDivElement>,\r\n    HTMLDivElement\r\n>\r\n\r\nexport default function Card({ children, className, ...rest }: Props) {\r\n    return (\r\n        <div className={[className, styles.card].join(' ')} {...rest}>\r\n            {children}\r\n        </div>\r\n    )\r\n}\r\n","import React, { CSSProperties, ReactNode } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport Button from '../shared/Button'\r\nimport Card from '../shared/Card'\r\nimport { RESSOURCES } from '../../constants/search'\r\nimport { SwapiInfos } from '../../types/search'\r\n\r\nimport styles from './RelationListIem.module.scss'\r\n\r\ntype Props = {\r\n    itemStyle: CSSProperties\r\n    relation: SwapiInfos\r\n    search: string\r\n    type: RESSOURCES\r\n    hideTooltip: () => void\r\n    renderRelation: (relation: SwapiInfos) => ReactNode\r\n    showTooltip: (hoveredButton: HTMLElement, relation: SwapiInfos) => void\r\n}\r\n\r\nexport default function RelationListItem({\r\n    itemStyle,\r\n    relation,\r\n    search,\r\n    type,\r\n    hideTooltip,\r\n    renderRelation,\r\n    showTooltip\r\n}: Props) {\r\n    return (\r\n        <>\r\n            <Card style={itemStyle}>\r\n                {renderRelation(relation)}\r\n\r\n                <div className={styles.buttonContainer}>\r\n                    <Button\r\n                        className={styles.button}\r\n                        onMouseOver={({ target }) =>\r\n                            showTooltip(target as HTMLElement, relation)\r\n                        }\r\n                        onMouseOut={hideTooltip}\r\n                    >\r\n                        Show More\r\n                    </Button>\r\n\r\n                    <Link\r\n                        to={{\r\n                            pathname: `/${type}/${relation.id}`,\r\n                            search\r\n                        }}\r\n                    >\r\n                        <Button className={styles.button}>\r\n                            Go to full detail\r\n                        </Button>\r\n                    </Link>\r\n                </div>\r\n            </Card>\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { motion } from 'framer-motion'\r\n\r\nimport Card from './Card'\r\n\r\nexport type TooltipCoordinates = {\r\n    left: number\r\n    bottom: number\r\n}\r\n\r\ntype Props = React.DetailedHTMLProps<\r\n    React.HTMLAttributes<HTMLDivElement>,\r\n    HTMLDivElement\r\n> & {\r\n    coords: TooltipCoordinates\r\n}\r\n\r\nexport default function Tooltip({ children, coords }: Props) {\r\n    return (\r\n        <motion.div\r\n            initial={{ opacity: 0, y: -50 }}\r\n            animate={{ opacity: 1, y: [-10, 0] }}\r\n            exit={{ y: -750 }}\r\n            style={{ position: 'absolute', ...coords }}\r\n        >\r\n            <Card>{children}</Card>\r\n        </motion.div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport Info from '../../shared/Info'\r\nimport { PersonInfos } from '../../../types/person'\r\n\r\ntype Props = {\r\n    person: PersonInfos\r\n}\r\n\r\nexport default function ShortPersonInfos({ person }: Props) {\r\n    return (\r\n        <>\r\n            <Info icon=\"face\" label=\"Name\" value={person.name} />\r\n            <Info icon=\"wc\" label=\"Gender\" value={person.gender} />\r\n            <Info icon=\"event\" label=\"Birth Year\" value={person.birth_year} />\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport Info from '../../shared/Info'\r\nimport ShortPersonInfos from './ShortPersonInfos'\r\nimport { PersonInfos } from '../../../types/person'\r\n\r\ntype Props = {\r\n    person: PersonInfos\r\n}\r\n\r\nexport default function FullPersonInfos({ person }: Props) {\r\n    return (\r\n        <>\r\n            <ShortPersonInfos person={person} />\r\n            <Info icon=\"palette\" label=\"Skin Color\" value={person.skin_color} />\r\n            <Info icon=\"palette\" label=\"Eye Color\" value={person.eye_color} />\r\n            <Info icon=\"palette\" label=\"Hair Color\" value={person.hair_color} />\r\n            <Info icon=\"adjust\" label=\"Mass\" value={person.mass} />\r\n            <Info icon=\"height\" label=\"Height\" value={person.height} />\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport Info from '../../shared/Info'\r\nimport { PlanetInfos } from '../../../types/planet'\r\n\r\ntype Props = {\r\n    planet: PlanetInfos\r\n}\r\n\r\nexport default function ShortPlanetInfos({ planet }: Props) {\r\n    return (\r\n        <>\r\n            <Info icon=\"public\" label=\"Name\" value={planet.name} />\r\n            <Info icon=\"groups\" label=\"Population\" value={planet.population} />\r\n            <Info icon=\"wb_sunny\" label=\"Climate\" value={planet.climate} />\r\n            <Info icon=\"terrain\" label=\"Terrain\" value={planet.terrain} />\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport Info from '../../shared/Info'\r\nimport ShortPlanetInfos from './ShortPlanetInfos'\r\nimport { PlanetInfos } from '../../../types/planet'\r\n\r\ntype Props = {\r\n    planet: PlanetInfos\r\n}\r\n\r\nexport default function FullPlanetInfos({ planet }: Props) {\r\n    return (\r\n        <>\r\n            <ShortPlanetInfos planet={planet} />{' '}\r\n            <Info\r\n                icon=\"not_interested\"\r\n                label=\"Diameter\"\r\n                value={planet.diameter}\r\n            />\r\n            <Info\r\n                icon=\"360\"\r\n                label=\"Rotation Period\"\r\n                value={planet.rotation_period}\r\n            />\r\n            <Info\r\n                icon=\"settings_backup_restore\"\r\n                label=\"Orbital Period\"\r\n                value={planet.orbital_period}\r\n            />\r\n            <Info\r\n                icon=\"arrow_downward\"\r\n                label=\"Gravity\"\r\n                value={planet.gravity}\r\n            />\r\n            <Info\r\n                icon=\"waves\"\r\n                label=\"Surface Water\"\r\n                value={planet.surface_water}\r\n            />\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport Info from '../../shared/Info'\r\nimport { SpeciesInfos } from '../../../types/species'\r\n\r\ntype Props = {\r\n    species: SpeciesInfos\r\n}\r\n\r\nexport default function ShortSpeciesInfos({ species }: Props) {\r\n    return (\r\n        <>\r\n            <Info icon=\"people\" label=\"Name\" value={species.name} />\r\n            <Info\r\n                icon=\"category\"\r\n                label=\"Classification\"\r\n                value={species.classification}\r\n            />\r\n            <Info\r\n                icon=\"psychology\"\r\n                label=\"Designation\"\r\n                value={species.designation}\r\n            />\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport Info from '../../shared/Info'\r\nimport ShortSpeciesInfos from './ShortSpeciesInfos'\r\nimport { SpeciesInfos } from '../../../types/species'\r\n\r\ntype Props = {\r\n    species: SpeciesInfos\r\n}\r\n\r\nexport default function FullSpeciesInfos({ species }: Props) {\r\n    return (\r\n        <>\r\n            <ShortSpeciesInfos species={species} />\r\n            <Info\r\n                icon=\"height\"\r\n                label=\"Average Height\"\r\n                value={species.average_height}\r\n            />\r\n            <Info\r\n                icon=\"elderly\"\r\n                label=\"Average Lifespan\"\r\n                value={species.average_lifespan}\r\n            />\r\n            <Info\r\n                icon=\"palette\"\r\n                label=\"Eye Colors\"\r\n                value={species.eye_colors}\r\n            />\r\n            <Info\r\n                icon=\"palette\"\r\n                label=\"Hair Colors\"\r\n                value={species.hair_colors}\r\n            />\r\n            <Info\r\n                icon=\"palette\"\r\n                label=\"Skin Colors\"\r\n                value={species.skin_colors}\r\n            />\r\n            <Info\r\n                icon=\"record_voice_over\"\r\n                label=\"Language\"\r\n                value={species.language}\r\n            />\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport Info from '../../shared/Info'\r\nimport { StarshipInfos } from '../../../types/starship'\r\n\r\ntype Props = {\r\n    starship: StarshipInfos\r\n}\r\n\r\nexport default function ShortStarshipInfos({ starship }: Props) {\r\n    return (\r\n        <>\r\n            <Info\r\n                icon=\"airplanemode_active\"\r\n                label=\"Name\"\r\n                value={starship.name}\r\n            />\r\n            <Info icon=\"scatter_plot\" label=\"Model\" value={starship.model} />\r\n            <Info\r\n                icon=\"category\"\r\n                label=\"Starship Class\"\r\n                value={starship.starship_class}\r\n            />\r\n            <Info\r\n                icon=\"corporate_fare\"\r\n                label=\"Manufacturer\"\r\n                value={starship.manufacturer}\r\n            />\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport Info from '../../shared/Info'\r\nimport ShortStarshipInfos from './ShortStarshipInfos'\r\nimport { StarshipInfos } from '../../../types/starship'\r\n\r\ntype Props = {\r\n    starship: StarshipInfos\r\n}\r\n\r\nexport default function FullStarshipInfos({ starship }: Props) {\r\n    return (\r\n        <>\r\n            <ShortStarshipInfos starship={starship} />\r\n            <Info\r\n                icon=\"credit_card\"\r\n                label=\"Cost In Credits\"\r\n                value={starship.cost_in_credits}\r\n            />\r\n            <Info icon=\"straighten\" label=\"Length\" value={starship.length} />\r\n            <Info icon=\"groups\" label=\"Crew\" value={starship.crew} />\r\n            <Info\r\n                icon=\"reduce_capacity\"\r\n                label=\"Passengers\"\r\n                value={starship.passengers}\r\n            />\r\n            <Info\r\n                icon=\"speed\"\r\n                label=\"Max Atmosphering Speed\"\r\n                value={starship.max_atmosphering_speed}\r\n            />\r\n            <Info\r\n                icon=\"star\"\r\n                label=\"Hyperdrive Rating\"\r\n                value={starship.hyperdrive_rating}\r\n            />\r\n            <Info icon=\"flash_on\" label=\"MGLT\" value={starship.MGLT} />\r\n            <Info\r\n                icon=\"luggage\"\r\n                label=\"Cargo Capacity\"\r\n                value={starship.cargo_capacity}\r\n            />\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport Info from '../../shared/Info'\r\nimport { VehicleInfos } from '../../../types/vehicle'\r\n\r\ntype Props = {\r\n    vehicle: VehicleInfos\r\n}\r\n\r\nexport default function ShortVehicleInfos({ vehicle }: Props) {\r\n    return (\r\n        <>\r\n            <Info icon=\"directions_car\" label=\"Name\" value={vehicle.name} />\r\n            <Info icon=\"scatter_plot\" label=\"Model\" value={vehicle.model} />\r\n            <Info\r\n                icon=\"category\"\r\n                label=\"Vehicle Class\"\r\n                value={vehicle.vehicle_class}\r\n            />\r\n            <Info\r\n                icon=\"corporate_fare\"\r\n                label=\"Manufacturer\"\r\n                value={vehicle.manufacturer}\r\n            />\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport Info from '../../shared/Info'\r\nimport ShortVehicleInfos from './ShortVehicleInfos'\r\nimport { VehicleInfos } from '../../../types/vehicle'\r\n\r\ntype Props = {\r\n    vehicle: VehicleInfos\r\n}\r\n\r\nexport default function FullVehicleInfos({ vehicle }: Props) {\r\n    return (\r\n        <>\r\n            <ShortVehicleInfos vehicle={vehicle} />\r\n            <Info icon=\"straighten\" label=\"Length\" value={vehicle.length} />\r\n            <Info\r\n                icon=\"credit_card\"\r\n                label=\"Cost In Credits\"\r\n                value={vehicle.cost_in_credits}\r\n            />\r\n            <Info icon=\"groups\" label=\"Crew\" value={vehicle.crew} />\r\n            <Info\r\n                icon=\"reduce_capacity\"\r\n                label=\"Passengers\"\r\n                value={vehicle.passengers}\r\n            />\r\n            <Info\r\n                icon=\"speed\"\r\n                label=\"Max Atmosphering Speed\"\r\n                value={vehicle.max_atmosphering_speed}\r\n            />\r\n            <Info\r\n                icon=\"luggage\"\r\n                label=\"Capacity\"\r\n                value={vehicle.cargo_capacity}\r\n            />\r\n            <Info\r\n                icon=\"opacity\"\r\n                label=\"Consumables\"\r\n                value={vehicle.consumables}\r\n            />\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport FullFilmInfos from '../components/details/infos/FullFilmInfos'\r\nimport FullPersonInfos from '../components/details/infos/FullPersonInfos'\r\nimport FullPlanetInfos from '../components/details/infos/FullPlanetInfos'\r\nimport FullSpeciesInfos from '../components/details/infos/FullSpeciesInfos'\r\nimport FullStarshipInfos from '../components/details/infos/FullStarshipInfos'\r\nimport FullVehicleInfos from '../components/details/infos/FullVehicleInfos'\r\nimport ShortFilmInfos from '../components/details/infos/ShortFilmInfos'\r\nimport ShortPersonInfos from '../components/details/infos/ShortPersonInfos'\r\nimport ShortPlanetInfos from '../components/details/infos/ShortPlanetInfos'\r\nimport ShortSpeciesInfos from '../components/details/infos/ShortSpeciesInfos'\r\nimport ShortStarshipInfos from '../components/details/infos/ShortStarshipInfos'\r\nimport ShortVehicleInfos from '../components/details/infos/ShortVehicleInfos'\r\nimport { FilmInfos } from '../types/film'\r\nimport { PersonInfos } from '../types/person'\r\nimport { PlanetInfos } from '../types/planet'\r\nimport { RESSOURCES } from './search'\r\nimport { SpeciesInfos } from '../types/species'\r\nimport { StarshipInfos } from '../types/starship'\r\nimport { SwapiInfos } from '../types/search'\r\nimport { VehicleInfos } from '../types/vehicle'\r\n\r\nexport const RESSOURCE_COMPONENT_CONFIGS = {\r\n    [RESSOURCES.FILMS]: (film: SwapiInfos, showFull = false) =>\r\n        showFull ? (\r\n            <FullFilmInfos film={film as FilmInfos} />\r\n        ) : (\r\n            <ShortFilmInfos film={film as FilmInfos} />\r\n        ),\r\n    [RESSOURCES.PEOPLE]: (person: SwapiInfos, showFull = false) =>\r\n        showFull ? (\r\n            <FullPersonInfos person={person as PersonInfos} />\r\n        ) : (\r\n            <ShortPersonInfos person={person as PersonInfos} />\r\n        ),\r\n    [RESSOURCES.PLANETS]: (planet: SwapiInfos, showFull = false) =>\r\n        showFull ? (\r\n            <FullPlanetInfos planet={planet as PlanetInfos} />\r\n        ) : (\r\n            <ShortPlanetInfos planet={planet as PlanetInfos} />\r\n        ),\r\n    [RESSOURCES.SPECIES]: (species: SwapiInfos, showFull = false) =>\r\n        showFull ? (\r\n            <FullSpeciesInfos species={species as SpeciesInfos} />\r\n        ) : (\r\n            <ShortSpeciesInfos species={species as SpeciesInfos} />\r\n        ),\r\n    [RESSOURCES.STARSHIPS]: (starship: SwapiInfos, showFull = false) =>\r\n        showFull ? (\r\n            <FullStarshipInfos starship={starship as StarshipInfos} />\r\n        ) : (\r\n            <ShortStarshipInfos starship={starship as StarshipInfos} />\r\n        ),\r\n    [RESSOURCES.VEHICLES]: (vehicle: SwapiInfos, showFull = false) =>\r\n        showFull ? (\r\n            <FullVehicleInfos vehicle={vehicle as VehicleInfos} />\r\n        ) : (\r\n            <ShortVehicleInfos vehicle={vehicle as VehicleInfos} />\r\n        )\r\n}\r\n","import React, { useState, useRef, CSSProperties, useEffect } from 'react'\r\nimport { AnimatePresence } from 'framer-motion'\r\nimport { useLocation } from 'react-router-dom'\r\n\r\nimport Carousel from '../shared/Carousel'\r\nimport Portal from '../shared/Portal'\r\nimport RelationListItem from './RelationListIem'\r\nimport Tooltip, { TooltipCoordinates } from '../shared/Tooltip'\r\nimport { RELATION_ITEM_PER_ROW, RESSOURCES } from '../../constants/search'\r\nimport { RESSOURCE_COMPONENT_CONFIGS } from '../../constants/config'\r\nimport { SwapiInfos } from '../../types/search'\r\n\r\ntype Props = {\r\n    type: RESSOURCES\r\n    relations: SwapiInfos[]\r\n}\r\n\r\nconst itemMargin = 1\r\n\r\nexport default function RelationsList({ type, relations }: Props) {\r\n    const [itemStyle, setItemStyle] = useState<CSSProperties>({})\r\n    const renderRelation = RESSOURCE_COMPONENT_CONFIGS[type]\r\n\r\n    const { search } = useLocation()\r\n    const itemsPerRow = RELATION_ITEM_PER_ROW[type]\r\n    const [selectedRelation, setSelectedRelation] = useState<SwapiInfos>()\r\n\r\n    const [isTooltipOpen, setIsTooltipOpen] = useState(false)\r\n    const [tooltipCoordinates, setTooltipCoordinates] = useState<\r\n        TooltipCoordinates\r\n    >()\r\n    const portalMount = useRef<HTMLDivElement>()\r\n\r\n    const showTooltip = (hoveredButton: HTMLElement, relation: SwapiInfos) => {\r\n        setIsTooltipOpen(true)\r\n        setSelectedRelation(relation)\r\n\r\n        const rect = hoveredButton.getBoundingClientRect()\r\n        setTooltipCoordinates({\r\n            left: rect.x,\r\n            bottom: window.innerHeight - (rect.y + window.scrollY - 15)\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        const getItemStyle = () => {\r\n            const totalMargin = itemsPerRow * itemMargin * 2\r\n            const width = (100 - totalMargin) / itemsPerRow\r\n            return {\r\n                margin: `${itemMargin}%`,\r\n                width: `${width}%`\r\n            }\r\n        }\r\n        setItemStyle(getItemStyle())\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n            <div style={{ display: 'flex' }}>\r\n                <Carousel\r\n                    items={relations}\r\n                    itemsPerRow={itemsPerRow}\r\n                    render={(displayedRelations: SwapiInfos[]) => (\r\n                        <>\r\n                            {displayedRelations.map((relation, index) => (\r\n                                <RelationListItem\r\n                                    itemStyle={itemStyle}\r\n                                    relation={relation}\r\n                                    search={search}\r\n                                    hideTooltip={() => setIsTooltipOpen(false)}\r\n                                    showTooltip={showTooltip}\r\n                                    renderRelation={renderRelation}\r\n                                    type={type}\r\n                                    key={index}\r\n                                />\r\n                            ))}\r\n                        </>\r\n                    )}\r\n                />\r\n            </div>\r\n\r\n            <div\r\n                ref={portalMount as React.MutableRefObject<HTMLDivElement>}\r\n                id=\"portal-root\"\r\n            ></div>\r\n\r\n            <AnimatePresence>\r\n                {isTooltipOpen && (\r\n                    <Portal mount={portalMount.current}>\r\n                        <Tooltip\r\n                            coords={tooltipCoordinates as TooltipCoordinates}\r\n                        >\r\n                            {renderRelation(\r\n                                selectedRelation as SwapiInfos,\r\n                                true\r\n                            )}\r\n                        </Tooltip>\r\n                    </Portal>\r\n                )}\r\n            </AnimatePresence>\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport styles from './Section.module.scss'\r\n\r\ntype Props = React.DetailedHTMLProps<\r\n    React.HTMLAttributes<HTMLDivElement>,\r\n    HTMLDivElement\r\n> & {\r\n    title: string\r\n}\r\n\r\nexport default function Section({ title, children, className }: Props) {\r\n    return (\r\n        <div className={[styles.section, className].join(' ')}>\r\n            <h4 className={styles.sectionTitle}>{title}</h4>\r\n\r\n            <div className={styles.sectionContent}>{children}</div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport FullFilmInfos from './infos/FullFilmInfos'\r\nimport RelationsList from './RelationsList'\r\nimport Section from '../shared/Section'\r\nimport { FullFilm } from '../../types/film'\r\nimport { RESSOURCES } from '../../constants/search'\r\n\r\nimport styles from './Details.module.scss'\r\n\r\ntype Props = {\r\n    film: FullFilm\r\n}\r\n\r\nexport default function FilmDetail({ film }: Props) {\r\n    return (\r\n        <div className={styles.detail}>\r\n            <Section title=\"FILM\">\r\n                <FullFilmInfos film={film} />\r\n            </Section>\r\n\r\n            {!!film.characters.length && (\r\n                <Section title={`CHARACTERS (${film.characters.length})`}>\r\n                    <RelationsList\r\n                        type={RESSOURCES.PEOPLE}\r\n                        relations={film.characters}\r\n                    />\r\n                </Section>\r\n            )}\r\n            {!!film.planets.length && (\r\n                <Section title={`PLANETS (${film.planets.length})`}>\r\n                    <RelationsList\r\n                        type={RESSOURCES.PLANETS}\r\n                        relations={film.planets}\r\n                    />\r\n                </Section>\r\n            )}\r\n            {!!film.starships.length && (\r\n                <Section title={`STARSHIPS (${film.starships.length})`}>\r\n                    <RelationsList\r\n                        type={RESSOURCES.STARSHIPS}\r\n                        relations={film.starships}\r\n                    />\r\n                </Section>\r\n            )}\r\n            {!!film.vehicles.length && (\r\n                <Section title={`VEHICLES (${film.vehicles.length})`}>\r\n                    <RelationsList\r\n                        type={RESSOURCES.VEHICLES}\r\n                        relations={film.vehicles}\r\n                    />\r\n                </Section>\r\n            )}\r\n            {!!film.species.length && (\r\n                <Section title={`SPECIES (${film.species.length})`}>\r\n                    <RelationsList\r\n                        type={RESSOURCES.SPECIES}\r\n                        relations={film.species}\r\n                    />\r\n                </Section>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport FullPersonInfos from './infos/FullPersonInfos'\r\nimport RelationsList from './RelationsList'\r\nimport Section from '../shared/Section'\r\nimport ShortPlanetInfos from './infos/ShortPlanetInfos'\r\nimport { FullPerson } from '../../types/person'\r\nimport { RESSOURCES } from '../../constants/search'\r\n\r\nimport styles from './Details.module.scss'\r\n\r\ntype Props = {\r\n    person: FullPerson\r\n}\r\n\r\nexport default function PersonDetail({ person }: Props) {\r\n    return (\r\n        <div className={styles.detail}>\r\n            <Section title=\"PERSON\">\r\n                <FullPersonInfos person={person} />\r\n            </Section>\r\n\r\n            {!!person.films.length && (\r\n                <Section title={`FILMS (${person.films.length})`}>\r\n                    <RelationsList\r\n                        type={RESSOURCES.FILMS}\r\n                        relations={person.films}\r\n                    />\r\n                </Section>\r\n            )}\r\n            {!!person.homeworld && (\r\n                <Section title=\"HOMEWORLD\">\r\n                    <ShortPlanetInfos planet={person.homeworld} />\r\n                </Section>\r\n            )}\r\n            {!!person.species.length && (\r\n                <Section title={`SPECIES (${person.species.length})`}>\r\n                    <RelationsList\r\n                        type={RESSOURCES.SPECIES}\r\n                        relations={person.species}\r\n                    />\r\n                </Section>\r\n            )}\r\n            {!!person.starships.length && (\r\n                <Section title={`STARSHIPS (${person.starships.length})`}>\r\n                    <RelationsList\r\n                        type={RESSOURCES.STARSHIPS}\r\n                        relations={person.starships}\r\n                    />\r\n                </Section>\r\n            )}\r\n            {!!person.vehicles.length && (\r\n                <Section title={`VEHICLES (${person.vehicles.length})`}>\r\n                    <RelationsList\r\n                        type={RESSOURCES.VEHICLES}\r\n                        relations={person.vehicles}\r\n                    />\r\n                </Section>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport FullPlanetInfos from './infos/FullPlanetInfos'\r\nimport RelationsList from './RelationsList'\r\nimport Section from '../shared/Section'\r\nimport { FullPlanet } from '../../types/planet'\r\nimport { RESSOURCES } from '../../constants/search'\r\n\r\nimport styles from './Details.module.scss'\r\n\r\ntype Props = {\r\n    planet: FullPlanet\r\n}\r\n\r\nexport default function PlanetDetail({ planet }: Props) {\r\n    return (\r\n        <div className={styles.detail}>\r\n            <Section title=\"PLANET\">\r\n                <FullPlanetInfos planet={planet} />\r\n            </Section>\r\n\r\n            {!!planet.residents.length && (\r\n                <Section title={`RESIDENTS (${planet.residents.length})`}>\r\n                    <RelationsList\r\n                        type={RESSOURCES.PEOPLE}\r\n                        relations={planet.residents}\r\n                    />\r\n                </Section>\r\n            )}\r\n            {!!planet.films.length && (\r\n                <Section title={`FILMS (${planet.films.length})`}>\r\n                    <RelationsList\r\n                        type={RESSOURCES.FILMS}\r\n                        relations={planet.films}\r\n                    />\r\n                </Section>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport FullSpeciesInfos from './infos/FullSpeciesInfos'\r\nimport RelationsList from './RelationsList'\r\nimport Section from '../shared/Section'\r\nimport ShortPlanetInfos from './infos/ShortPlanetInfos'\r\nimport { FullSpecies } from '../../types/species'\r\nimport { RESSOURCES } from '../../constants/search'\r\n\r\nimport styles from './Details.module.scss'\r\n\r\ntype Props = {\r\n    species: FullSpecies\r\n}\r\n\r\nexport default function SpeciesDetail({ species }: Props) {\r\n    return (\r\n        <div className={styles.detail}>\r\n            <Section title=\"SPECIES\">\r\n                <FullSpeciesInfos species={species} />\r\n            </Section>\r\n\r\n            {!!species.homeworld && (\r\n                <Section title=\"HOMEWORLD\">\r\n                    <ShortPlanetInfos planet={species.homeworld} />\r\n                </Section>\r\n            )}\r\n            {!!species.people.length && (\r\n                <Section title={`PEOPLE (${species.people.length})`}>\r\n                    <RelationsList\r\n                        type={RESSOURCES.PEOPLE}\r\n                        relations={species.people}\r\n                    />\r\n                </Section>\r\n            )}\r\n            {!!species.films.length && (\r\n                <Section title={`FILMS (${species.films.length})`}>\r\n                    <RelationsList\r\n                        type={RESSOURCES.FILMS}\r\n                        relations={species.films}\r\n                    />\r\n                </Section>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport FullStarshipInfos from './infos/FullStarshipInfos'\r\nimport RelationsList from './RelationsList'\r\nimport Section from '../shared/Section'\r\nimport { FullStarship } from '../../types/starship'\r\nimport { RESSOURCES } from '../../constants/search'\r\n\r\nimport styles from './Details.module.scss'\r\n\r\ntype Props = {\r\n    starship: FullStarship\r\n}\r\n\r\nexport default function StarshipDetail({ starship }: Props) {\r\n    return (\r\n        <div className={styles.detail}>\r\n            <Section title=\"STARSHIP\">\r\n                <FullStarshipInfos starship={starship} />\r\n            </Section>\r\n\r\n            {!!starship.pilots.length && (\r\n                <Section title={`PILOTS (${starship.pilots.length})`}>\r\n                    <RelationsList\r\n                        type={RESSOURCES.PEOPLE}\r\n                        relations={starship.pilots}\r\n                    />\r\n                </Section>\r\n            )}\r\n            {!!starship.films.length && (\r\n                <Section title={`FILMS (${starship.films.length})`}>\r\n                    <RelationsList\r\n                        type={RESSOURCES.FILMS}\r\n                        relations={starship.films}\r\n                    />\r\n                </Section>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport FullVehicleInfos from './infos/FullVehicleInfos'\r\nimport RelationsList from './RelationsList'\r\nimport Section from '../shared/Section'\r\nimport { FullVehicle } from '../../types/vehicle'\r\nimport { RESSOURCES } from '../../constants/search'\r\n\r\nimport styles from './Details.module.scss'\r\n\r\ntype Props = {\r\n    vehicle: FullVehicle\r\n}\r\n\r\nexport default function VehicleDetail({ vehicle }: Props) {\r\n    return (\r\n        <div className={styles.detail}>\r\n            <Section title=\"VEHICLE\">\r\n                <FullVehicleInfos vehicle={vehicle} />\r\n            </Section>\r\n\r\n            {!!vehicle.pilots.length && (\r\n                <Section title={`PILOTS (${vehicle.pilots.length})`}>\r\n                    <RelationsList\r\n                        type={RESSOURCES.PEOPLE}\r\n                        relations={vehicle.pilots}\r\n                    />\r\n                </Section>\r\n            )}\r\n            {!!vehicle.films.length && (\r\n                <Section title={`FILMS (${vehicle.films.length})`}>\r\n                    <RelationsList\r\n                        type={RESSOURCES.FILMS}\r\n                        relations={vehicle.films}\r\n                    />\r\n                </Section>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","import { RESSOURCES } from '../constants/search'\r\n\r\nconsole.log(process.env)\r\nconst BASE_URL = process.env.REACT_APP_URL_API || 'http://localhost:3001'\r\n\r\nexport type APIResponse<T> = {\r\n    status: number\r\n    body: T\r\n}\r\n\r\nexport async function searchAPI(\r\n    params: { [key: string]: string },\r\n    signal?: AbortSignal\r\n): Promise<APIResponse<any>> {\r\n    const queryString = new URLSearchParams(params).toString()\r\n\r\n    return formatFetchResponse(\r\n        await fetch(`${BASE_URL}?${queryString}`, { signal })\r\n    )\r\n}\r\n\r\nexport async function getDetailAPI(\r\n    type: RESSOURCES,\r\n    id: number\r\n): Promise<APIResponse<any>> {\r\n    return formatFetchResponse(await fetch(`${BASE_URL}/${type}/${id}`))\r\n}\r\n\r\nasync function formatFetchResponse(response: Response) {\r\n    return {\r\n        status: response.status,\r\n        body: await response.json()\r\n    }\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Link, useHistory, useLocation, useParams } from 'react-router-dom'\r\nimport { motion } from 'framer-motion'\r\n\r\nimport Button from '../components/shared/Button'\r\nimport CenteredLoader from '../components/shared/CenteredLoader'\r\nimport FilmDetail from '../components/details/FilmDetail'\r\nimport MaterialIcon from '../components/shared/MaterialIcon'\r\nimport PersonDetail from '../components/details/PersonDetail'\r\nimport PlanetDetail from '../components/details/PlanetDetail'\r\nimport SpeciesDetail from '../components/details/SpeciesDetail'\r\nimport StarshipDetail from '../components/details/StarshipDetail'\r\nimport VehicleDetail from '../components/details/VehicleDetail'\r\nimport styles from './DetailPage.module.scss'\r\nimport { FullFilm } from '../types/film'\r\nimport { FullPerson } from '../types/person'\r\nimport { FullPlanet } from '../types/planet'\r\nimport { FullSpecies } from '../types/species'\r\nimport { FullStarship } from '../types/starship'\r\nimport { FullVehicle } from '../types/vehicle'\r\nimport { RESSOURCES } from '../constants/search'\r\nimport { SwapiDetail } from '../types/search'\r\nimport { getDetailAPI } from '../service/api'\r\n\r\nconst detailMap = {\r\n    [RESSOURCES.FILMS]: (film: SwapiDetail) => (\r\n        <FilmDetail film={film as FullFilm} />\r\n    ),\r\n    [RESSOURCES.PEOPLE]: (person: SwapiDetail) => (\r\n        <PersonDetail person={person as FullPerson} />\r\n    ),\r\n    [RESSOURCES.PLANETS]: (planet: SwapiDetail) => (\r\n        <PlanetDetail planet={planet as FullPlanet} />\r\n    ),\r\n    [RESSOURCES.SPECIES]: (species: SwapiDetail) => (\r\n        <SpeciesDetail species={species as FullSpecies} />\r\n    ),\r\n    [RESSOURCES.STARSHIPS]: (starship: SwapiDetail) => (\r\n        <StarshipDetail starship={starship as FullStarship} />\r\n    ),\r\n    [RESSOURCES.VEHICLES]: (vehicle: SwapiDetail) => (\r\n        <VehicleDetail vehicle={vehicle as FullVehicle} />\r\n    )\r\n}\r\n\r\nexport default function DetailPage() {\r\n    const { type, id } = useParams<{ id: string; type: string }>()\r\n    const { search } = useLocation()\r\n    const history = useHistory()\r\n    const [loading, setLoading] = useState(true)\r\n    const [data, setData] = useState<SwapiDetail>()\r\n    const [error, setError] = useState(false)\r\n\r\n    useEffect(() => {\r\n        const getDetail = async () => {\r\n            try {\r\n                const { body, status } = await getDetailAPI(\r\n                    type as RESSOURCES,\r\n                    +id\r\n                )\r\n\r\n                document.title = `${type.toUpperCase()} - ${\r\n                    body?.name || body?.title\r\n                }`\r\n                setData(body)\r\n                setError(status !== 200)\r\n                setLoading(false)\r\n            } catch (e) {\r\n                setError(true)\r\n                setLoading(false)\r\n            }\r\n        }\r\n\r\n        getDetail()\r\n    }, [type, id])\r\n\r\n    useEffect(() => {\r\n        const unlisten = history.listen(() => setLoading(true))\r\n\r\n        return () => unlisten()\r\n    }, [])\r\n\r\n    const showContent = () => {\r\n        if (loading) {\r\n            return <CenteredLoader />\r\n        } else {\r\n            if (error) {\r\n                return <h1>Error</h1>\r\n            } else if (data) {\r\n                return (\r\n                    <motion.div\r\n                        initial={{ opacity: 0 }}\r\n                        animate={{ opacity: 1 }}\r\n                        transition={{ duration: 1 }}\r\n                    >\r\n                        {detailMap[type as RESSOURCES](data)}\r\n                    </motion.div>\r\n                )\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={styles.main}>\r\n            <div className={styles.buttonContainer}>\r\n                <Link to={{ pathname: '/', search }}>\r\n                    <Button className={styles.button}>\r\n                        <MaterialIcon icon=\"keyboard_backspace\" />\r\n                        <span>Back to search</span>\r\n                    </Button>\r\n                </Link>\r\n            </div>\r\n\r\n            <div className={styles.detail}>{showContent()}</div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Link, useLocation } from 'react-router-dom'\r\n\r\nimport InfiniteScroll from 'react-infinite-scroller'\r\nimport Loader from './shared/Loader'\r\nimport styles from './RessourceList.module.scss'\r\nimport { RESSOURCES } from '../constants/search'\r\nimport { SearchResult } from '../types/search'\r\n\r\ntype Props = {\r\n    type: RESSOURCES\r\n    results: SearchResult\r\n    onLoadMore: (type: RESSOURCES, page: number) => void\r\n}\r\n\r\nexport default function RessourceList({ type, results, onLoadMore }: Props) {\r\n    const { search } = useLocation()\r\n\r\n    return (\r\n        <InfiniteScroll\r\n            loadMore={() => onLoadMore(type, results.next)}\r\n            hasMore={!!results.next}\r\n            loader={<Loader key={type} style={{ margin: '1em auto' }} />}\r\n            useWindow={false}\r\n        >\r\n            {results.results.map((result: any, index: number) => (\r\n                <div key={index} className={styles.listItem}>\r\n                    <Link\r\n                        to={{\r\n                            pathname: `/${type}/${result.id}`,\r\n                            search\r\n                        }}\r\n                    >\r\n                        <div>{result.name}</div>\r\n                    </Link>\r\n                </div>\r\n            ))}\r\n        </InfiniteScroll>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { motion } from 'framer-motion'\r\nimport { useHistory, useLocation } from 'react-router-dom'\r\n\r\nimport CenteredLoader from './shared/CenteredLoader'\r\nimport RessourceList from './RessourceList'\r\nimport Section from './shared/Section'\r\nimport styles from './SearchResults.module.scss'\r\nimport { RESSOURCES } from '../constants/search'\r\nimport { ResultTree, SearchResult } from '../types/search'\r\nimport { searchAPI } from '../service/api'\r\n\r\ntype Props = React.DetailedHTMLProps<\r\n    React.HTMLAttributes<HTMLDivElement>,\r\n    HTMLDivElement\r\n> & {\r\n    type: string\r\n    keyword: string\r\n}\r\n\r\nexport default function SearchResults({ type, keyword, className }: Props) {\r\n    const [isLoading, setIsLoading] = useState(true)\r\n    const [hasError, setHasError] = useState(false)\r\n    const [results, setResults] = useState<ResultTree>({} as ResultTree)\r\n    const [\r\n        pendingRequest,\r\n        setPendingRequest\r\n    ] = useState<AbortController | null>()\r\n    const history = useHistory()\r\n    const location = useLocation()\r\n\r\n    const loadNextPage = async (type: RESSOURCES, page: number) => {\r\n        try {\r\n            const { body, status } = await searchAPI({\r\n                type,\r\n                keyword,\r\n                page: `${page}`\r\n            })\r\n\r\n            if (status === 200) {\r\n                const ressourceResults = body[type]\r\n                setResults((prevResults) => ({\r\n                    ...prevResults,\r\n                    [type]: {\r\n                        ...prevResults[type],\r\n                        next: ressourceResults.next,\r\n                        results: [\r\n                            ...(prevResults[type as RESSOURCES] as SearchResult)\r\n                                .results,\r\n                            ...ressourceResults.results\r\n                        ]\r\n                    }\r\n                }))\r\n            }\r\n        } catch (e) {\r\n            console.log('Load next page failed', type, page)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        const setQueryParams = () =>\r\n            history.push({\r\n                pathname: location.pathname,\r\n                search: new URLSearchParams({\r\n                    type: type || '',\r\n                    keyword: keyword || ''\r\n                }).toString()\r\n            })\r\n\r\n        const fetchResults = async () => {\r\n            setIsLoading(true)\r\n\r\n            if (pendingRequest) {\r\n                pendingRequest.abort()\r\n            }\r\n\r\n            const controller = new AbortController()\r\n            setPendingRequest(controller)\r\n\r\n            try {\r\n                const { body, status } = await searchAPI(\r\n                    { type, keyword },\r\n                    controller.signal\r\n                )\r\n                setPendingRequest(null)\r\n                setResults(body)\r\n                setHasError(status !== 200)\r\n                setIsLoading(false)\r\n            } catch (e) {\r\n                setPendingRequest(null)\r\n                if (e.name !== 'AbortError') {\r\n                    setHasError(true)\r\n                    setIsLoading(false)\r\n                }\r\n            }\r\n        }\r\n\r\n        setQueryParams()\r\n        fetchResults()\r\n    }, [keyword, type])\r\n\r\n    const showContent = () => {\r\n        if (isLoading) {\r\n            return <CenteredLoader />\r\n        }\r\n\r\n        if (hasError) {\r\n            return <p>Error</p>\r\n        }\r\n\r\n        return (\r\n            <motion.div\r\n                initial={{ y: 100, opacity: 0 }}\r\n                animate={{ y: [10, 0], opacity: 1 }}\r\n                className={styles.results}\r\n            >\r\n                {Object.keys(results).map(\r\n                    (ressourceType) =>\r\n                        results[ressourceType as RESSOURCES] && (\r\n                            <Section\r\n                                title={`${ressourceType.toUpperCase()} (${\r\n                                    (results[\r\n                                        ressourceType as RESSOURCES\r\n                                    ] as SearchResult).count\r\n                                })`}\r\n                                key={ressourceType}\r\n                                className={styles.section}\r\n                            >\r\n                                <RessourceList\r\n                                    type={ressourceType as RESSOURCES}\r\n                                    results={\r\n                                        results[\r\n                                            ressourceType as RESSOURCES\r\n                                        ] as SearchResult\r\n                                    }\r\n                                    onLoadMore={loadNextPage}\r\n                                />\r\n                            </Section>\r\n                        )\r\n                )}\r\n            </motion.div>\r\n        )\r\n    }\r\n\r\n    return <div className={className}>{showContent()}</div>\r\n}\r\n","import React from 'react'\r\nimport { useForm } from 'react-hook-form'\r\n\r\nimport { RESSOURCES } from '../constants/search'\r\nimport { SearchQuery } from '../types/search'\r\n\r\nimport styles from './Searchbar.module.scss'\r\n\r\ntype Props = {\r\n    initialValue: SearchQuery\r\n    onChange: (searchQuery: SearchQuery) => void\r\n    className: string\r\n}\r\n\r\nexport default function Searchbar({\r\n    initialValue,\r\n    onChange,\r\n    className\r\n}: Props) {\r\n    const types = [''].concat(Object.values(RESSOURCES))\r\n    const { register, handleSubmit, getValues } = useForm({\r\n        defaultValues: initialValue\r\n    })\r\n\r\n    return (\r\n        <form\r\n            className={[className, styles.form].join(' ')}\r\n            onSubmit={handleSubmit(onChange)}\r\n        >\r\n            <div\r\n                className={[styles.commonContainer, styles.inputContainer].join(\r\n                    ''\r\n                )}\r\n            >\r\n                <input\r\n                    className={styles.input}\r\n                    type=\"text\"\r\n                    name=\"keyword\"\r\n                    placeholder=\"Enter your search here\"\r\n                    ref={register}\r\n                    onKeyUp={(_) => onChange(getValues())}\r\n                />\r\n            </div>\r\n\r\n            <div\r\n                className={[\r\n                    styles.commonContainer,\r\n                    styles.selectContainer\r\n                ].join(' ')}\r\n            >\r\n                <select\r\n                    className={styles.select}\r\n                    name=\"type\"\r\n                    ref={register}\r\n                    onChange={(_) => onChange(getValues())}\r\n                >\r\n                    {types.map((type) => (\r\n                        <option value={type} key={type}>\r\n                            {type.toUpperCase()}\r\n                        </option>\r\n                    ))}\r\n                </select>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { useThrottle, useTitle } from 'ahooks'\r\n\r\nimport SearchResults from '../components/SearchResults'\r\nimport Searchbar from '../components/Searchbar'\r\nimport styles from './HomePage.module.scss'\r\nimport useQueryParams from '../hooks/useQueryParams'\r\nimport { RESSOURCES } from '../constants/search'\r\nimport { SearchQuery } from '../types/search'\r\n\r\nexport default function Homepage() {\r\n    useTitle('Empire Search')\r\n    const queryParams = useQueryParams(['type', 'keyword'])\r\n    const [type, setType] = useState(getType(queryParams.type as RESSOURCES))\r\n    const [keyword, setKeyword] = useState(queryParams.keyword)\r\n    const throttledKeyword = useThrottle(keyword, { wait: 500 })\r\n    const [showResults, setShowResults] = useState(true)\r\n\r\n    const onSearchChange = ({ type, keyword }: SearchQuery) => {\r\n        setKeyword(keyword)\r\n        setType(type)\r\n        setShowResults(true)\r\n    }\r\n\r\n    function getType(type: RESSOURCES): string {\r\n        return Object.values(RESSOURCES).includes(type) ? type : ''\r\n    }\r\n\r\n    return (\r\n        <div className={styles.main}>\r\n            <Searchbar\r\n                className={styles.searchbar}\r\n                initialValue={{ keyword, type }}\r\n                onChange={onSearchChange}\r\n            />\r\n            {showResults && (\r\n                <SearchResults\r\n                    type={type}\r\n                    keyword={throttledKeyword}\r\n                    className={styles.results}\r\n                />\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","import { useLocation } from 'react-router-dom'\r\n\r\ntype ParamMap = { [key: string]: string }\r\n\r\nexport default function useQueryParams(keys: string[]): ParamMap {\r\n    const location = useLocation()\r\n    const params = new URLSearchParams(location.search)\r\n\r\n    return keys.reduce((paramsMap, key) => {\r\n        paramsMap[key] = params.get(key) || ''\r\n\r\n        return paramsMap\r\n    }, {} as ParamMap)\r\n}\r\n","import React from 'react'\r\nimport { BrowserRouter, Redirect, Route, Switch } from 'react-router-dom'\r\nimport { RESSOURCES } from './constants/search'\r\nimport DetailPage from './pages/DetailPage'\r\n\r\nimport Homepage from './pages/HomePage'\r\n\r\nexport default function Routes() {\r\n    return (\r\n        <BrowserRouter>\r\n            <Switch>\r\n                <Route\r\n                    path=\"/:type/:id\"\r\n                    render={({ match }) => {\r\n                        const type = match.params.type\r\n\r\n                        return Object.values(RESSOURCES).includes(type) ? (\r\n                            <DetailPage />\r\n                        ) : (\r\n                            <Redirect to=\"/\" />\r\n                        )\r\n                    }}\r\n                />\r\n                <Route path=\"/\">\r\n                    <Homepage />\r\n                </Route>\r\n            </Switch>\r\n        </BrowserRouter>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport Routes from './Routes'\r\n\r\nfunction App() {\r\n    return <Routes />\r\n}\r\n\r\nexport default App\r\n","import { ReportHandler } from 'web-vitals'\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n    if (onPerfEntry && onPerfEntry instanceof Function) {\r\n        import('web-vitals').then(\r\n            ({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n                getCLS(onPerfEntry)\r\n                getFID(onPerfEntry)\r\n                getFCP(onPerfEntry)\r\n                getLCP(onPerfEntry)\r\n                getTTFB(onPerfEntry)\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nexport default reportWebVitals\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport App from './App'\r\nimport reportWebVitals from './reportWebVitals'\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <App />\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n)\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals()\r\n"],"sourceRoot":""}